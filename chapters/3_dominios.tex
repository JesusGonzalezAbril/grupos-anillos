\clearpage

\chapter{Divisibilidad en dominios}

\section{Cuerpos y dominios}

\begin{definition}{}{}
Un elemento \(a\) de un anillo \(A\) se dice regular si la relación \(ab = ac\) con \(b, c \in A\) implica que \(b = c\); es decir, si \(a\) es cancelable respecto del producto. Claramente, el 0 nunca es regular (obsérvese la importancia de la hipótesis \(1 \neq 0\) en este caso.)

Un cuerpo es un anillo en el que todos los elementos no nulos son invertibles, y un dominio (o dominio de integridad) es un anillo en el que todos los elementos no nulos son regulares.

Un subanillo de un anillo \(A\) que sea un cuerpo se llama un subcuerpo de \(A\), y un homomorfismo de anillos entre dos cuerpos se llama homomorfismo de cuerpos.
\end{definition}

\begin{remark}
    Si $A$ es un dominio y $0 \neq a,b \in A$, luego $a$ y $b$ son regulares. Supongamos que $ab = 0$, entonces
    \[
    ab = 0 = a0 \implies b = 0
    \]
    ya que $a$ es cancelable, pero esto es una contradicción, luego no puede cumplirse $ab = 0$ si $a,b \neq 0$.
    
    En otras palabras 
    \[
    a,b \neq 0 \implies ab \neq 0 
    \]
    el contrarrecíproco de esta afirmación es
    \[
    ab = 0 \implies a = 0 \text{ ó } b = 0
    \]
\end{remark}

\begin{proposition}{}{cuerpos-dominios}
Todo cuerpo es un dominio.
\end{proposition}

\begin{proofbox}
Si \(A\) es un cuerpo y \(a \in A\), \(a \neq 0\), entonces \(a\) es invertible. Si \(ab = ac\), multiplicando por \(a^{-1}\) obtenemos \(b = c\), luego \(a\) es regular. Como esto vale para todo \(a \neq 0\), \(A\) es un dominio.
\end{proofbox}

\begin{proposition}{}{}
Sea \(A\) un anillo.
\begin{enumerate}
\item Las condiciones siguientes son equivalentes:

\begin{enumerate}
    \item \(A\) es un cuerpo.
    \item Los únicos ideales de \(A\) son \(0\) y \(A\).
    \item Todo homomorfismo de anillos \(A \to B\) con \(B \neq 0\) es inyectivo.
\end{enumerate}

\item Un elemento \(a \in A\) es regular si y solo si la relación \(ab = 0\) con \(b \in A\) implica \(b = 0\) (por este motivo, los elementos no regulares se suelen llamar divisores de cero).

\item \(A\) es un dominio si y solo si, para cualesquiera \(a, b \in A\) no nulos, se tiene \(ab \neq 0\).

\item Todo subanillo de un dominio es un dominio.

\item La característica de un dominio es cero o un número primo.
\end{enumerate}
\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Demostramos las equivalencias.

(a) $\Rightarrow$ (b) Si $A$ es cuerpo e $I$ es un ideal no nulo de $A$, entonces $I$ tiene un elemento $a \neq 0$. Como $A$ es cuerpo, $a$ es invertible, luego $I = A$.

(b) $\Rightarrow$ (c) Si $f: A \to B$ es un homomorfismo con $B \neq 0$, entonces $\ker f$ es un ideal pero $\ker f \neq A$, pues $f(1) = 1 \neq 0$. Entonces, por (b), $\ker f = 0$, luego $f$ es inyectivo.

(c) $\Rightarrow$ (a) Haremos el contrarrecírpoco. Si $A$ no es cuerpo, existe $a \neq 0$ no invertible. Entonces $(a)$ es un ideal propio no nulo, y el homomorfismo canónico
\[
\pi: A \to A/(a),\quad \pi(x) = x + (a)
\]
no es inyectivo ya que
\[
a \in \ker\pi \neq 0.
\]

\item Si $a$ es regular y $ab = 0$, entonces $ab = 0 = a0$, luego $b = 0$. Recíprocamente, si $a$ no es regular, existen $b \neq c$ con $ab = ac$, luego $a(b-c) = 0$ con $b-c \neq 0$.

\item Es consecuencia inmediata de (2).

\item Si $B$ es subanillo de un dominio $A$ y $x, y \in B$ son no nulos, entonces $xy \neq 0$ en $A$, luego también en $B$ ya que su cero es el mismo que el de $A$.

\item Sea $D$ un dominio y consideremos el homomorfismo $f: \mathbb{Z} \to D$ dado por $f(n) = n\cdot 1$. Como $\ker f$ es un ideal de $\mathbb{Z}$, existe $n \geq 0$ tal que $\ker f = (n)$. Si $n = ab$ con $0 < a, b < n$, entonces $f(a)f(b) = f(ab) = 0$, luego $f(a) = 0$ o $f(b) = 0$, contradicción. Así que $n$ es primo o $n = 0$.
\end{enumerate}
\end{proofbox}

\begin{example}{Dominios y cuerpos}{}

\begin{enumerate}
\item Los anillos \(\mathbb{Q}\), \(\mathbb{R}\) y \(\mathbb{C}\) son cuerpos y \(\mathbb{Z}\) es un dominio que no es un cuerpo (aunque es subanillo de un cuerpo).

\item Para \(n \geq 2\), el anillo \(\mathbb{Z}_n\) es un dominio si y solo si es un cuerpo, si y sólo si \(n\) es primo.

\begin{proofbox}
Si $n$ es primo y $\overline{a} \neq 0$ en $\mathbb{Z}_n$, entonces $\mathrm{mcd}(a,n) = 1$, luego existen $x,y$ con $ax + ny = 1$, así que $\overline{a}\overline{x} = \overline{1}$. Recíprocamente, si $n$ no es primo, existen $a,b$ con $1 < a,b < n$ y $n = ab$, luego $\overline{a}\overline{b} = \overline{0}$ con $\overline{a},\overline{b} \neq 0$.
\end{proofbox}

\item Si \(m\) es un entero que no es el cuadrado de un número entero entonces \(\mathbb{Z}[\sqrt{m}]\) es un dominio (subanillo de \(\mathbb{C}\)) que no es un cuerpo (el \(2\) no tiene inverso). Sin embargo, \(\mathbb{Q}[\sqrt{m}]\) sí que es un cuerpo; de hecho, si \(a + b\sqrt{m} \neq 0\), entonces \(q = (a + b\sqrt{m})(a - b\sqrt{m}) = a^2 - b^2 m\) es un número racional no nulo y \((a + b\sqrt{m})^{-1} = \frac{a}{q} - \frac{b}{q}\sqrt{m}\).

\item Un producto de anillos diferentes de \(0\) nunca es un dominio, pues \((1,0)(0,1) = (0,0)\).

\item Los anillos de polinomios no son cuerpos, pues la indeterminada genera un ideal propio y no nulo. Por otra parte, \(A[X]\) es un dominio si y solo si lo es \(A\).

\begin{proofbox}
Si $A$ es dominio y $P,Q \in A[X]$ son no nulos, sean $a_n X^n$ y $b_m X^m$ sus términos de mayor grado. Entonces el coeficiente de $X^{n+m}$ en $PQ$ es $a_n b_m \neq 0$, luego $PQ \neq 0$. El recíproco es claro pues $A$ es subanillo de $A[X]$.
\end{proofbox}

\end{enumerate}
\end{example}

\clearpage
\section{Ideales primos y maximales}

\begin{definition}{Ideal primo}{ideal-primo}
    Un ideal propio \(P \leq A, P \neq A\) es primo si para todo \(a, b \in A\):
    \[
    ab \in P \Rightarrow a \in P \text{ o } b \in P
    \]
\end{definition}

\begin{definition}{Ideal maximal}{ideal-maximal}
    Un ideal propio \(M \leq A, M \neq A\) es maximal si no existe ningún ideal \(I\) tal que \(M \subsetneq I \subsetneq A\).
\end{definition}

\begin{proposition}{Caracterizaciones de ideales maximales y primos}{caracterizacion-maximales-primos}
Sean \(A\) un anillo e \(I\) un ideal propio de \(A\). Entonces:

\begin{enumerate}
\item \(I\) es maximal si y solo si \(A/I\) es un cuerpo.

\item \(I\) es primo si y solo si \(A/I\) es un dominio.

\item Si \(I\) es maximal entonces es primo.

\item \(A\) es un cuerpo si y solo si el ideal \(0\) es maximal.

\item \(A\) es un dominio si y solo si el ideal \(0\) es primo.
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Por el teorema de correspondencia, los ideales de $A/I$ corresponden a los ideales de $A$ que contienen a $I$.

Así, si $I$ es maximal entonces el único ideal distinto de $I$ que contiene a $I$ es $A$. Pero entonces, dado un ideal $J/I \leq A/I$ este ha de corresponder a $A/I$ o a $I/I = 0$, luego los únicos ideales de $A/I$ son $0$ y $A/I$, lo cual es una de las caracterizaciones para que un anillo sea un cuerpo. 

De igual manera, si $A/I$ es un cuerpo, entonces los únicos ideales son $0$ y $A/I$, pero entonces los únicos ideales que contienen a $I$ son $I,A$, es decir, $I$ es maximal.

\item Si $I$ es primo y tomamos $(a + I)(b + I) = ab + I = 0 + I$ entonces
\[
ab \in I \implies a \in I \text{ ó } b \in I \implies a + I = 0 + I \text{ ó } b + I = 0 + I
\]
luego $A/I$ es dominio.

Por el contrario, si $A/I$ es dominio entonces dados $a,b$ tales que $ab \in I$
\[
0 + I = ab + I = (a + I)(b + I) \iff a + I = 0 + I \text{ ó } b + I = 0 + I \iff a \in I \text{ ó } b \in I 
\]
es decir, si $ab \in I$ entonces $a \in I$ o $b \in I$.

\item Se sigue de (1) y (2) ya que
\[
I \text{ maximal} \iff A/I \text{ cuerpo} \implies A/I \text{ dominio} \iff I \text{ primo}.
\]

\item Es inmediato aplicando (1) ya que $A \cong A/(0)$.

\item Es inmediato aplicando (2) ya que $A \cong A/(0)$
\end{enumerate}

\end{proofbox}

\begin{remark}
    La parte 3. de la proposición anterior se puede probar directamente. 
    \begin{proofbox}
    Supongamos que $I$ es maximal pero no primo. Entonces existen $a,b \in A$ tales que $ab \in I$ pero $a,b \notin I$. Consideremos entonces el siguiente ideal
    \[
    I + (a) = \{x + ay : x \in I, y \in A\}.
    \]
    Claramente $I \subseteq I + (a) \subseteq A$, y claramente $I \neq I + (a)$ ya que $a = 0 + a1 \in I + (a), a \notin I$. Pero también tenemos $I + (a) \neq A$ ya que si no fuera así entonces existirían $x_0 \in I, y_0 \in A$ tales que
    \[
    x_0 + ay_0 = 1 \implies bx_0 + aby_0 = b \implies b \in I
    \]
    ya que $bx_0, aby_0 \in I$, lo cual es contradictorio.
    
    Luego $I + (a)$ es un ideal propio que contiene a $I$, pero eso contradice la maximalidad de $I$, por tanto $I$ debe ser primo.
    \end{proofbox}
\end{remark}


\begin{example}{Ejemplos en \(\mathbb{Z}\)}{}
    \begin{itemize}
        \item Los ideales primos de \(\mathbb{Z}\) son \((0)\) y \((p)\) con \(p\) primo.
        \item Los ideales maximales de \(\mathbb{Z}\) son \((p)\) con \(p\) primo.
    \end{itemize}
\end{example}

\begin{proofbox}
    Como sabemos que los ideales de $\Z$ son de la forma $(n)$ basta hacer unas cuantas cuentas.

    Sea $(n)$ un ideal primo de $\Z$. Dados $a,b \in Z$ tales que $ab \in (n)$ entonces $a \in (n)$ o $b \in (n)$. Notemos entonces que
    \[
    x \in (n) \implies x = ny \implies n | x
    \]
    por tanto la condición para que un ideal sea primo es que
    \[
    n | ab \implies n | a \text{ ó } n | b
    \]
    pero esto solo se cumple para $n=0$ o $n$ primo, como queríamos ver.

    Notemos que si $(n) \subseteq (m)$ entonces 
    \[
    n \in (n) \subseteq (m) \implies n = my \implies m | n
    \]
    y de igual manera, si $m | n \implies n = my \implies (n) \subseteq (m)$.
    Sea $(n)$ un ideal maximal, entonces no existe $m \neq \pm 1, \pm n$ tal que $(n) \subsetneq (m) \subsetneq \Z$, es decir, no existe ningún número distinto de $\pm 1, \pm n$ que divida a $n$, luego $n$ es primo como queríamos ver.
\end{proofbox}

\begin{remark}
    El ejemplo anterior también se puede completar considerando los anillos cociente apropiados. Queda como ejercicio para el lector.
\end{remark}

\begin{proposition}{}{}
Todo ideal propio de un anillo está contenido en un ideal maximal.
\end{proposition}

\begin{proofbox}
Sea \(I\) un ideal propio de \(A\) y sea \(\Omega\) el conjunto de los ideales propios de \(A\) que contienen a \(I\). Obsérvese que la unión de una cadena \(I_1 \subseteq I_2 \subseteq I_3 \subseteq \ldots\) de elementos de \(\Omega\) es un ideal, que además es propio, pues si no lo fuera, contendría a \(1\) y por tanto algún \(I_n\) contendría a \(1\) en contra de que todos los \(I_n\) son ideales propios. Aplicando el Lema de Zorn deducimos que \(\Omega\) tiene un elemento maximal que obviamente es un ideal maximal de \(A\).
\end{proofbox}

\begin{remark}
El uso del Lema de Zorn en la demostración anterior implica que este resultado depende del Axioma de Elección. En anillos noetherianos (como \(\mathbb{Z}\) o \(K[X]\) con \(K\) cuerpo) se puede demostrar sin el Axioma de Elección.
\end{remark}

\clearpage
\section{Divisibilidad}

\begin{definition}{Divisibilidad}{}
Sea \(A\) un anillo y sean \(a, b \in A\). Si existe \(c \in A\) tal que \(b = ac\) entonces se dice que \(a\) divide a \(b\) en \(A\), o que \(a\) es un divisor de \(b\) en \(A\), o que \(b\) es un múltiplo de \(a\) en \(A\). Para indicar que \(a\) divide a \(b\) en \(A\) escribiremos \(a \mid b\) en \(A\). Si el anillo \(A\) esta claro por el contexto escribiremos simplemente \(a \mid b\).
\end{definition}

Obsérvese que la nocion de divisibilidad depende del anillo. Por ejemplo, si \(a\) es un entero diferente de \(0\), entonces \(a\) divide a todos los numeros enteros en \(\mathbb{Q}\), pero no necesariamente en \(\mathbb{Z}\).

\begin{lemma}{}{}
Si \(A\) es un anillo y \(a, b, c \in A\) entonces se verifican las siguientes propiedades:

\begin{enumerate}
\item (Reflexiva) \(a \mid a\).

\item (Transitiva) Si \(a \mid b\) y \(b \mid c\), entonces \(a \mid c\).

\item \(a \mid 0\) y \(1 \mid a\).

\item \(0 \mid a\) si y solo si \(a = 0\).

\item \(a \mid 1\) si y solo si \(a\) es una unidad; en este caso \(a \mid x\) para todo \(x \in A\) (es decir, las unidades dividen a cualquier elemento).

\item Si \(a \mid b\) y \(a \mid c\) entonces \(a \mid rb + sc\) para cualesquiera \(r, s \in A\) (y en particular \(a \mid b + c\), \(a \mid b - c\) y \(a \mid rb\) para cualquier \(r \in A\)). Mas generalmente, si \(a\) divide a ciertos elementos, entonces divide a cualquier combinacion lineal suya con coeficientes en \(A\).

\item Si \(c\) no es divisor de cero y \(ac \mid bc\), entonces \(a \mid b\).
\end{enumerate}
\end{lemma}

\begin{proofbox}
\begin{enumerate}
\item \(a = a \cdot 1\), luego \(a \mid a\).

\item Si \(a \mid b\) y \(b \mid c\), existen \(x, y \in A\) tales que \(b = ax\) y \(c = by\). Entonces \(c = a(xy)\), luego \(a \mid c\).

\item \(0 = a \cdot 0\), luego \(a \mid 0\). Tambien \(a = 1 \cdot a\), luego \(1 \mid a\).

\item Si \(0 \mid a\), existe \(x \in A\) tal que \(a = 0 \cdot x = 0\). Recíprocamente, si \(a = 0\), entonces \(0 \mid a\) por (3).

\item Si \(a \mid 1\), existe \(u \in A\) tal que \(1 = au\). Entonces \(u = a^{-1}\) y \(a\) es unidad. Recíprocamente, si \(a\) es unidad, entonces \(1 = a a^{-1}\), luego \(a \mid 1\). Ademas, para cualquier \(x \in A\), \(x = a(a^{-1}x)\), luego \(a \mid x\).

\item Si \(a \mid b\) y \(a \mid c\), existen \(x, y \in A\) tales que \(b = ax\) y \(c = ay\). Entonces \(rb + sc = a(rx + sy)\), luego \(a \mid rb + sc\).

\item Si \(ac \mid bc\), existe \(d \in A\) tal que \(bc = acd\). Como \(c\) no es divisor de cero, podemos cancelar: \(b = ad\), luego \(a \mid b\).
\end{enumerate}
\end{proofbox}

\begin{definition}{Elementos asociados}{}
Dos elementos \(a\) y \(b\) de un anillo \(A\) se dice que son asociados en \(A\) si se dividen mutuamente en \(A\); es decir, si \(a \mid b\) y \(b \mid a\) en \(A\). Cuando este claro por el contexto en que anillo estamos trabajando, diremos simplemente que \(a\) y \(b\) son asociados.
\end{definition}

Por ejemplo, una unidad es lo mismo que un elemento asociado a 1.
Es elemental ver que <<ser asociados>> es una relacion de equivalencia en \(A\), y que dos elementos son asociados si y solo si tienen los mismos divisores, si y solo si tienen los mismos múltiplos. Por lo tanto, al estudiar cuestiones de divisibilidad, un elemento tendrá las mismas propiedades que sus asociados.

\begin{lemma}{Asociados en dominios}{}
Si \(D\) es un dominio entonces \(a, b \in D\) son asociados en \(D\) si y solo si existe una unidad \(u\) de \(D\) tal que \(b = au\).
\end{lemma}

\begin{proofbox}
Si \(b = au\) con \(u\) unidad entonces \(a = bu^{-1}\) con lo que \(a \mid b\) y \(b \mid a\), es decir \(a\) y \(b\) son asociados. 

Recíprocamente, supongamos que \(a\) y \(b\) son asociados. Entonces \(b = au\) y \(a = bv\) para ciertos \(u, v \in D\). Claramente si \(a\) o \(b\) es 0 entonces el otro tambien es 0, con lo que en este caso \(a = b1\). Por otro lado, si \(a\) y \(b\) son ambos distintos de 0 tambien lo son \(u\) y \(v\) con lo que \(uv \neq 0\) por ser \(D\) un dominio. Como ademas \(auv = bv = a = a1\) y \(a\) es cancelable por ser distinto de 0 y \(D\) un dominio, deducimos que \(uv = 1\) con lo que \(u\) es una unidad de \(D\).
\end{proofbox}

Sabemos que cualquier elemento \(a\) de un anillo \(A\) es divisible por sus asociados y por las unidades de \(A\), y que si \(a\) divide a uno de los elementos \(b\) o \(c\) entonces divide a su producto \(bc\). A continuacion estudiamos los elementos que verifican los recíprocos de estas propiedades.

A menudo consideraremos elementos \(a\) de un anillo \(A\) que no son cero ni unidades, lo que sintetizaremos en la forma \(0 \neq a \in A \setminus A^*\).

\begin{definition}{Elementos irreducibles y primos}{}
Diremos que un elemento \(a\) del anillo \(A\) es irreducible si \(0 \neq a \in A \setminus A^*\) y la relacion \(a = bc\) en \(A\) implica que \(b \in A^*\) o \(c \in A^*\) (y por lo tanto que uno de los dos es asociado de \(a\)).

Diremos que \(a\) es primo si \(0 \neq a \in A \setminus A^*\) y la relacion \(a \mid bc\) en \(A\) implica que \(a \mid b\) o \(a \mid c\).

Ambas nociones dependen del anillo ambiente, y si este no esta claro por el contexto hablaremos de irreducibles y primos en \(A\).
\end{definition}

\begin{proposition}{}{}
En un dominio \(A\) todo elemento primo es irreducible.
\end{proposition}

\begin{proofbox}
Sea \(p\) un elemento primo de \(A\) y supongamos que \(p = ab\), con \(a, b \in A\). Entonces \(p \mid ab\) y como \(p\) es primo, \(p \mid a\) o \(p \mid b\). Supongamos que \(p \mid a\). Entonces existe \(u \in A\) tal que \(a = pu\). Sustituyendo en \(p = ab\) obtenemos \(p = pub\), luego \(p(1 - ub) = 0\). Como \(p \neq 0\) y \(A\) es dominio, \(1 - ub = 0\), es decir, \(ub = 1\), luego \(b\) es unidad. Esto demuestra que \(p\) es irreducible.
\end{proofbox}

El recíproco no se verifica en general, como muestra el siguiente ejemplo.

\begin{example}{Irreducible no implica primo: Parte 1}{irreducible-no-primo}
Veamos primero el contraejemplo y luego una justificación de cómo se llega al resultado.

En el anillo \(\mathbb{Z}[\sqrt{-5}]\) consideremos la factorización:
\[
6 = 2 \cdot 3 = (1 + \sqrt{-5})(1 - \sqrt{-5}).
\]

Veamos que \(2\) es irreducible pero no primo:
\begin{itemize}
\item 2 es irreducible. Supongamos que \(2 = \alpha\beta\) con \(\alpha, \beta \in \mathbb{Z}[\sqrt{-5}]\). Considerando la norma \(N(a + b\sqrt{-5}) = a^2 + 5b^2\), tenemos:
\[
N(2) = 4 = N(\alpha)N(\beta).
\]
Las únicas factorizaciones de 4 en enteros positivos son \(4 = 1 \cdot 4 = 2 \cdot 2 = 4 \cdot 1\). No existe ningún elemento en \(\mathbb{Z}[\sqrt{-5}]\) con norma 2 (pues \(a^2 + 5b^2 = 2\) no tiene soluciones enteras). Por tanto, una de las normas debe ser 1 y la otra 4. Si \(N(\alpha) = 1\), entonces \(\alpha\) es unidad; si \(N(\beta) = 1\), entonces \(\beta\) es unidad. Luego 2 es irreducible.

\item 2 no es primo. Observemos que:
\[
2 \mid 6 = (1 + \sqrt{-5})(1 - \sqrt{-5}),
\]
pero \(2 \nmid (1 + \sqrt{-5})\) y \(2 \nmid (1 - \sqrt{-5})\), pues si \(2 \mid (1 + \sqrt{-5})\), existiría \(\gamma \in \mathbb{Z}[\sqrt{-5}]\) tal que \(1 + \sqrt{-5} = 2\gamma\), lo cual es imposible (comparando partes enteras e irracionales). Por tanto, 2 no es primo.
\end{itemize}

\end{example}


\begin{example}{Irreducible no implica primo: Parte 2}{}
En el anillo \(\mathbb{Z}[\sqrt{-5}]\) hay elementos irreducibles que no son primos. Comencemos observando que el cuadrado del modulo de un elemento \(a + b\sqrt{-5}\) de \(\mathbb{Z}[\sqrt{-5}]\), con \(a, b \in \mathbb{Z}\) es
\[
N(a + b\sqrt{-5}) = |a + b\sqrt{-5}|^2 = a^2 + 5b^2.
\]
notemos además que \(N(xy) = N(x)N(y)\).

Claramente, si \(x \mid y\) en \(\mathbb{Z}[\sqrt{-5}]\), entonces \(N(x)\) divide a \(N(y)\) en \(\mathbb{Z}\). En particular, si \(x = a + b\sqrt{-5}\) y \(N(x) = 1\) entonces
\[
N(x) = a^2 + 5 b^2 = 1 \implies a = \pm 1, b = 0 \implies x = \pm 1.
\]
De aqui deducimos que si un cierto elemento $u$ cumple $uv = 1$ entonces
\[
N(u) | N(1) = 1 \implies N(u) = 1
\]
por tanto las unidades en \(\Z[\sqrt{-5}]\) son
\[
\mathbb{Z}[\sqrt{-5}]^* = \{x \in \mathbb{Z}[\sqrt{-5}] : |x|^2 = 1\} = \{1, -1\}.
\]

Por otro lado los cuadrados en \(\mathbb{Z}_5\) son \(0 + (5)\) y \(\pm 1 + (5)\), y por lo tanto la congruencia 
\[
a^2 \equiv \pm 2 \mod 5
\]
no tiene solucion. Esto implica que en \(\mathbb{Z}[\sqrt{-5}]\) no hay elementos cuyo modulo al cuadrado valga \(2\), \(3\) o \(12\).

Sea ahora \(x \in \mathbb{Z}[\sqrt{-5}]\) con \(N(x) = 4\). Si un cierto elemento $y$ divide a $x$, entonces
\[
y \mid x \implies N(y) | N(x) = 4
\]
pero al estar en $\Z$, $N(y)$ debe valer \(1\), \(2\) o \(4\).
\begin{itemize}
    \item Si $N(y) = 1$ entonces $y$ es una unidad.
    \item $N(y) = 2$ es imposible porque ya hemos visto que no hay elementos con norma 2.
    \item Si $N(y) = 4$ entonces $y$ es asociado de $x$. En efecto como sabemos que 
    \[
    y | x \implies x = ay \implies N(x) = 4 = N(a)N(y) = 4 N(a)
    \]
    es decir, $N(a) = 1$, luego $a$ es una unidad y por tanto $y = xa^-1 \implies x | y$.
\end{itemize}
Con esto hemos probado que $2$ es irreducible.

De igual modo se puede ver que los elementos con modulo \(6\) o \(9\) son irreducibles, en particular lo son todos los factores de la igualdad
\[
2 \cdot 3 = (1 + \sqrt{-5})(1 - \sqrt{-5}).
\]
Pero ninguno de ellos es primo. En concreto, de la igualdad se deduce que
\[
2 \mid (1 + \sqrt{-5})(1 - \sqrt{-5})
\]
y es claro que \(2 \nmid (1 + \sqrt{-5})\) y \(2 \nmid (1 - \sqrt{-5})\).
\end{example}

\clearpage
\subsection{Divisibilidad en términos de ideales principales. Máximo común divisor y mínimo común múltiplo.}

Todas las nociones de divisibilidad que hemos presentado pueden enunciarse en terminos de los ideales principales generados por los elementos involucrados.

\begin{proposition}{}{divisibilidad-ideales-principales}
Si \(D\) es un dominio y \(a, b \in D\) entonces se verifican las siguientes propiedades:

\begin{enumerate}
\item \(a = 0\) si y solo si \((a) = 0\).

\item \(a \in D^*\) si y solo si \((a) = D\).

\item \(a \mid b\) si y solo si \((b) \subseteq (a)\) (o si \(b \in (a)\)).

\item \(a\) y \(b\) son asociados si y solo si \((a) = (b)\).

\item \(a\) es primo si y solo si \((a)\) es un ideal primo no nulo de \(D\).

\item \(a\) es irreducible si y solo si \((a)\) es maximal entre los ideales principales propios no nulos de \(D\); es decir, \(a \neq 0\) y \((a) \subseteq (b) \subset D\) implica \((a) = (b)\).
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
    \item Si \(a = 0\) entonces \((a) = \{0\} = 0\). Recíprocamente, si \((a) = 0\) entonces \(a \in \{0\} \implies a = 0\).

    \item Si \(a\) es unidad, existe \(a^{-1} \in D\) tal que \(aa^{-1} = 1\), luego \(1 \in (a)\) y \((a) = D\). Recíprocamente, si \((a) = D\), entonces \(1 \in (a)\), luego existe \(b \in D\) tal que \(ab = 1\), por lo que \(a\) es unidad.

    \item Si \(a \mid b\), existe \(c \in D\) tal que \(b = ac\), luego \(b \in (a)\) y \((b) \subseteq (a)\). Recíprocamente, si \((b) \subseteq (a)\), entonces \(b \in (b) \subseteq (a)\), luego existe \(c \in D\) tal que \(b = ac\), es decir, \(a \mid b\).

    \item Si \(a\) y \(b\) son asociados, entonces \(a \mid b\) y \(b \mid a\), luego \((b) \subseteq (a)\) y \((a) \subseteq (b)\), es decir, \((a) = (b)\). Recíprocamente, si \((a) = (b)\), entonces por (3) \(a \mid b\) y \(b \mid a\).

    \item Si \(a\) es primo, entonces \(a \neq 0\) y si \(bc \in (a)\), entonces \(a \mid bc\), luego \(a \mid b\) o \(a \mid c\), es decir, \(b \in (a)\) o \(c \in (a)\). Recíprocamente, si \((a)\) es primo no nulo, entonces \(a \neq 0\) y si \(a \mid bc\), entonces \(bc \in (a)\), luego \(b \in (a)\) o \(c \in (a)\), es decir, \(a \mid b\) o \(a \mid c\).

    \item Si \(a\) es irreducible y \((a) \subseteq (b) \subset D\), entonces \(a \in (b)\), luego existe \(c \in D\) tal que \(a = bc\). Como \(a\) es irreducible, \(b\) es unidad o \(c\) es unidad. Si \(b\) es unidad, entonces \((b) = D\), contradiccion. Luego \(c\) es unidad y \(a\) y \(b\) son asociados, por lo que \((a) = (b)\). Recíprocamente, si \(a = bc\), entonces \((a) \subseteq (b)\). Si \(b\) no es unidad, entonces \((b) \subset D\), luego por hipotesis \((a) = (b)\), por lo que \(a\) y \(b\) son asociados y \(c\) es unidad.
\end{enumerate}

\end{proofbox}

\begin{remark}
    \textbf{Pregunta para el lector:} ?`en algún momento hemos usado que $D$ es un dominio?
    
    \noindent\textbf{Respuesta del autor:} Yo diría que no, pero como no estoy seguro rezo porque siempre que tenga que usar esta proposición esté trabajando con un dominio...
\end{remark}

\begin{definition}{}{}
Sea \(A\) un anillo y sean \(S\) un subconjunto de \(A\) y \(a \in A\).

\begin{enumerate}
    \item \(a\) es un máximo común divisor de \(S\) en \(A\) si \(a\) es divisor de cada elemento de \(S\), y múltiplo de cada elemento de \(A\) que sea divisor de todos los elementos de \(S\).

    \item \(a\) es un mínimo común múltiplo de \(S\) en \(A\) si \(a\) es múltiplo de cada elemento de \(S\), y divisor de cada elemento de \(A\) que sea múltiplo de todos los elementos de \(S\).
\end{enumerate}
\end{definition}

Obsérvese que no hablamos del máximo común divisor ni del mínimo común múltiplo, sino que en ambos casos usamos el articulo indeterminado un. En la siguiente proposición se precisa por qué tenemos que usar el articulo indeterminado y hasta qué punto el máximo común divisor y el mínimo común múltiplo son únicos. Sin embargo, en ocasiones abusaremos del lenguaje diciendo el máximo común divisor o el mínimo común múltiplo, entendiendo que son conceptos que son únicos salvo asociados. Tambien abusaremos del lenguaje escribiendo \(d = \mathrm{mcd}(S)\) o \(m = \mathrm{mcm}(S)\) queriendo decir en tal caso que \(d\) es un máximo común divisor de \(S\) en \(A\) y que \(m\) es un mínimo común múltiplo de \(S\) en \(A\), respectivamente.

\begin{proposition}{}{}
Sea \(A\) un anillo y sean \(S\) un subconjunto de \(A\) y \(a, b \in A\). Entonces
\begin{enumerate}
\item \(a\) es un máximo común divisor de \(S\) en \(A\) si y solo si \((a)\) es el menor ideal principal de \(A\) que contiene a \(S\). En particular si \((S) = (a)\) entonces \(a\) es el máximo común divisor de \(S\).

\item \(a\) es un mínimo común múltiplo de \(S\) en \(A\) si y solo si \((a)\) es el mayor ideal principal contenido en \(\cap_{s \in S}(s)\). En particular, si \((a) = \cap_{s \in S}(s)\) entonces \(a\) es mínimo común múltiplo de \(S\).

\item Sea \(a\) un máximo común divisor de \(S\). Entonces \(b\) tambien es máximo común divisor de \(S\) si y solo si \(a\) y \(b\) son asociados en \(A\).

\item Sea \(a\) es un mínimo común múltiplo de \(S\). Entonces \(b\) tambien es mínimo común múltiplo de \(S\) si y solo si \(a\) y \(b\) son asociados en \(A\).

\item Si \(a\) es un divisor común de los elementos de \(S\) y \(a \in (S)\) entonces \(a = \mathrm{mcd}(S)\).

Obsérvese que la condicion \(a \in (S)\) significa que existen elementos \(s_1, \ldots, s_n \in S\) y \(a_1, \ldots, a_n \in A\) tales que
\[
a = a_1 s_1 + \cdots + a_n s_n.
\]
En el caso en que \(a = \mathrm{mcd}(S)\) se dice que esta expresion es una identidad de Bezout para \(S\).

\item Se verifica \(1 = \mathrm{mcd}(S)\) si y solo si los unicos divisores comúnes de los elementos de \(S\) son las unidades de \(A\).

\item Si \(1 \in (S)\) (o sea, 1 es combinacion lineal de elementos de \(S\)) entonces \(1 = \mathrm{mcd}(S)\).
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Usando la definicion de máximo común divisor tenemos que si \(a = \mathrm{mcd}(S)\), entonces $a | s$ para todo $s\in S$. Entonces, por el apartado (3) de \ref{prop:divisibilidad-ideales-principales}, \((s) \subseteq (a)\) para todo \(s \in S\). Además, dado un ideal principal $(b)$ tal que $S \subseteq (b)$ se verifica
\[
s \in S \subseteq (b) \implies s = bc
\]
para cualquier elemento $s \in S$. Pero entonces $b | s$, por lo que $a$ debe ser múltiplo de $b$, es decir $a = bc$, pero entonces $(a) \subseteq (b)$ como queríamos ver.

Por el contrario, supongamos que \((a)\) es el menor ideal principal de \(A\) que contiene a \(S\). En concreto $S \subseteq (a)$, por tanto dado $s \in S$
\[
s \in (a) \implies s = ac \implies a | s
\]
luego $a$ divide a todos los elementos de $S$. Supongamos que $b$ es otro elemento que también divide a todos, en tal caso 
\[
b | s \implies (s) \subseteq (b) \implies S \subseteq (b)
\]
pero entonces por hipótesis $(a) \subseteq (b)$, por tanto $a = bc$, es decir, $a$ es múltiplo de $b$, luego $a = \mathrm{mcd}(S)$.

\item La demostración es similar a (1), omitimos algunos pequeños detalles.

Si $a$ es un $\text{mcm}$ entonces dado $s \in S$ tenemos $a = sx_s$, luego $(a) \subseteq (s)$, por tanto
\[
(a) \subseteq \cap_{s \in S} (s).
\]
Si $(b)$ es otro ideal tal que $(b) \subseteq \cap_{s \in S} (s)$ entonces $(b) \subseteq (s)$, luego $b = sy_s$ para cada $s$ y por la definición de $\text{mcm}$ debe ser $a | b$, lo cual implica
\[
(b) \subseteq (a)
\]
luego $(a)$ es el máximo ideal contenido en la interesección.

Por el contrario, si $(a)$ es el máximo ideal contenido en $\cap_{s \in S} (s)$ entonces $a \in (a) \subseteq (s) \implies a = sx_s$ para cada $s$. Supongamos que $b = sy_s$ también para todo $s \in S$, en tal caso
\[
(b) \subseteq \cap_{s \in S} (s) \implies (b) \subseteq (a) \implies a | a.
\] 

\item Claramente si $b$ también es máximo común divisor entonces $a = bc, b = ad$, luego $b | a, a | b$, es decir, $a$ y $b$ son asociados. Si por el contrario $a | b, b | a$ entonces dado $s \in S,\ b | a | s \implies b | s$, y si $c$ es otro elemento que divide a cada $s$ tenemos entonces $a = cx$, pero como $a | b \implies b = ay = cxy$ es decir, $b$ es también un $\text{mcd}$.

\item Si $b$ también es mínimo común múltiplo entonces $a | b, b | a$, luego $a$ y $b$ son asociados. Si por el contrario $a | b, b | a$ entonces $b = ac$, y dado $s \in S,\ a = sx_s \implies b = scx_s$, y si $c$ es otro elemento que es múltiplo de cada $s$ tenemos entonces $b | a | c$, es decir, $b$ es también un $\text{mcm}$.

\item Supongamos que \(a\) satisface la condicion dada y sea \(b\) un elemento de \(A\) que divide a todos los elementos de \(S\). Entonces divide a \(a_1 s_1 + \cdots + a_k s_k = a\). Esto demuestra que \(a = \mathrm{mcd}(S)\).

\item Si \(1 = \mathrm{mcd}(S)\) y \(d\) es un divisor común de los elementos de \(S\), entonces \(d \mid 1\), luego \(d\) es unidad. Recíprocamente, si los unicos divisores comunes son unidades, entonces \(1\) es un máximo común divisor.

\item Es consecuencia inmediata de (5).
\end{enumerate}

\end{proofbox}

\begin{example}{}{}
Los recíprocos de las propiedades (5) y (7) no se verifican. Por ejemplo, los unicos divisores comunes de \(2\) y \(X\) en \(\mathbb{Z}[X]\) son \(1\) y \(-1\), es decir las unidades de \(\mathbb{Z}[X]\). Por tanto, \(1 = \mathrm{mcd}(2,X)\). Sin embargo, \(1 \not\in (2,X)\).
\end{example}

Si \(1 = \mathrm{mcd}(S)\) decimos que los elementos de \(S\) son coprimos en \(A\). Si para cada par de elementos distintos \(a, b \in S\) se verifica \(\mathrm{mcd}(a,b) = 1\), decimos que los elementos de \(S\) son coprimos dos a dos.

\clearpage
\section{Dominios de factorización única}

\begin{definition}{Factorización}{}
Sea \(D\) un dominio. Una factorización en producto de irreducibles de un elemento \(a\) de \(D\) es una expresión del tipo
\[
a = u p_1 \cdots p_n
\]
donde \(n \in \mathbb{Z}^{\geq 0}\), \(u\) es una unidad de \(D\) y \(p_1, \ldots, p_n\) son irreducibles de \(D\). Obsérvese que se admite la posibilidad de que sea $n = 0$, en cuyo caso la factorización se reduce a $a = u$ ya que, por convenio, el producto vacío es 1.
\end{definition}

\begin{definition}{Dominio de factorización}{}
Diremos que \(D\) es un dominio de factorización o DF si todo elemento no nulo de \(D\) admite una factorización en producto de irreducibles.
\end{definition}

Dos factorizaciones de \(a \in D\) en producto de irreducibles se dice que son equivalentes si solo se diferencian en el orden y en asociados. Dicho con más rigor, las factorizaciones
\[
a = u p_1 \cdots p_n = v q_1 \cdots q_m
\]
(con \(u, v \in D^*\) y el resto de factores irreducibles) son equivalentes si \(n = m\) y existe una permutación \(\sigma\) de \(N_n\) (una biyección de \(N_n = \{1, 2, \ldots, n\}\) en sí mismo) tal que \(p_i\) y \(q_{\sigma(i)}\) son asociados para cada \(i = 1, \ldots, n\).

\begin{definition}{Dominio de factorización única}{dfu}
Diremos que \(D\) es un dominio de factorización única o DFU (UFD, en inglés) si es un dominio de factorización en el que, para cada \(0 \neq a \in D\), todas las factorizaciones de \(a\) son equivalentes.
\end{definition}

\begin{example}{}{}
El Teorema Fundamental de la Aritmética simplemente nos dice que el anillo de los números enteros \( \Z \) es un DFU.
\end{example}

\begin{example}{}{Z-sqrt-m}
Sea \(m\) un entero positivo. Vamos a ver que \(\mathbb{Z}[\sqrt{m}]\) es un dominio de factorización. Si \(m\) es un cuadrado en \(\mathbb{Z}\) entonces \(\mathbb{Z}[\sqrt{m}] = \mathbb{Z}\) que es un dominio de factorización. Por tanto, a partir de ahora suponemos que \(m\) no es un cuadrado en \(\mathbb{Z}\) y siempre que utilicemos una expresión \(a + b\sqrt{m}\) suponemos implícitamente que \(a\) y \(b\) son enteros. Vamos a utilizar la conjugación en \(\mathbb{Z}[\sqrt{m}]\) que es la siguiente aplicación (si \(m\) es negativo, esta aplicación es la conjugación compleja, si \(m\) es positivo entonces es una aplicación diferente, que también llamaremos conjugación).
\[
\overline{(\cdot)}: \mathbb{Z}[\sqrt{m}] \to \mathbb{Z}[\sqrt{m}], \quad a + b\sqrt{m} \mapsto \overline{a + b\sqrt{m}} = a - b\sqrt{m}
\]
Es fácil comprobar que esta aplicación es un homomorfismo de anillos.  Además, la siguiente aplicación
\[
N: \mathbb{Z}[\sqrt{m}] \to \mathbb{Z}, \quad a + b\sqrt{m} \mapsto a^2 - b^2 m = (a + b\sqrt{m})(a - b\sqrt{m})
\]
satisface \(N(xy) = N(x)N(y)\) para todo \(x, y \in \mathbb{Z}[\sqrt{m}]\) ya que 
\[
N(xy) = (xy)\overline{(xy)} = x \overline{x} y \overline{y} = N(x)N(y)
\]
usando que la conjugación es un homomorfismo.

Sea \(x \in \mathbb{Z}[\sqrt{m}]\). Si \(x\) es invertible en \(\mathbb{Z}[\sqrt{m}]\) entonces \(1 = N(1) = N(xx^{-1}) = N(x)N(x^{-1})\) con lo que \(N(x)\) es invertible en \(\mathbb{Z}\), es decir \(N(x) = \pm 1\). Recíprocamente, si \(N(x) = \pm 1\), entonces \(x\overline{x} = \pm 1\), con lo que \(x\) es invertible en \(\mathbb{Z}[\sqrt{m}]\). Esto demuestra que las unidades son los elementos de norma 1
\[
\mathbb{Z}[\sqrt{m}]^* = \{x \in \mathbb{Z}[\sqrt{m}] : |N(x)| = 1\}.
\]

Vamos a demostrar que si \(x \neq 0\) entonces tiene una factorización en \(\mathbb{Z}[\sqrt{m}]\) por inducción en \(|N(x)|\). Observese que \(N(x) \neq 0\) pues si \(a^2 - b^2 m = 0\) entonces \(m\) es un cuadrado en \(\mathbb{Z}\) en contra de la hipótesis. Por tanto, el menor valor posible para \(|N(x)|\) es 1 y en el caso en que \(|N(x)| = 1\) entonces \(x\) es una unidad con lo que efectivamente tiene una factorización. Asumamos pues la hipótesis de inducción y supongamos que \(|N(x)| > 1\). Entonces \(x\) no es unidad. Si \(x\) es irreducible por supuesto que tiene una factorización con lo que podemos suponer que \(x\) no es irreducible. Por tanto \(x = ab\) con \(a\) y \(b\) no unidades. Por tanto \(|N(a)|\) y \(|N(b)|\) son divisores propios de \(|N(x)|\) y por hipótesis de inducción \(a\) y \(b\) son productos de irreducibles. Luego \(x\) también es producto de irreducibles.
\end{example}

En el siguiente lema vemos que en un DFU los elementos irreducibles coinciden con los primos.

\begin{lemma}{}{}
Si \(D\) es un DFU, entonces todo elemento irreducible de \(D\) es primo.
\end{lemma}

\begin{proofbox}
Sea \(p \in D\) irreducible, y sean \(a, b \in D\) tales que \(p \mid ab\). Se trata de ver que \(p \mid a\) o \(p \mid b\). Esto está claro si \(a = 0\) o \(b = 0\) con lo que suponemos que ambos son diferentes de 0. Por hipótesis \(pt = ab\) para algún \(t \in D\). Si \(t = w p_1 \cdots p_n\), \(a = v q_1 \cdots q_m\) y \(b = u r_1 \cdots r_k\) son factorizaciones en irreducibles (con \(w, v, u \in D^*\)), entonces se tiene
\[
pt tp = w p_1 \cdots p_n p  = (vu) q_1 \cdots q_m r_1 \cdots r_k,
\]
y por la unicidad de la factorización \(p\) es asociado de algún \(q_i\) (y entonces \(p \mid a\)) o de algún \(r_i\) (y entonces \(p \mid b\)).
\end{proofbox}

Según hemos visto en \ref{ex:Z-sqrt-m} \(\mathbb{Z}[\sqrt{-5}]\) es un DF. Sin embargo, en el Ejemplo \ref{ex:irreducible-no-primo} hemos visto que tiene elementos irreducibles no primos, y por tanto no es DFU.

\begin{proposition}{}{}
Para un dominio \(D\), las condiciones siguientes son equivalentes:

(1) \(D\) es un dominio de factorización única.

(2) \(D\) es un dominio de factorización en el que todo elemento irreducible es primo.

(3) Todo elemento no nulo de \(D\) es producto de primos.
\end{proposition}

\begin{proofbox}
(1) implica (2) se sigue de la definición de DFU y el Lema 2.21.

(2) implica (3) es consecuencia obvia de la definición de dominio de factorización.

(3) implica (1) Como todo primo es irreducible basta ver que si \(p_1 \cdots p_k = u q_1 \cdots q_l\) con \(u\) unidad, cada \(p_i\) primo y cada \(q_k\) irreducible entonces ambas factorizaciones son equivalentes. Razonamos por inducción sobre \(k\). Si \(k = 0\) entonces \(a = 1\) con lo que necesariamente \(l = 0\). Supongamos que \(k > 0\) y que la propiedad se verifica para factorizaciones con menos de \(k\) primos. Como \(p_k\) es primo y divide a \(q_1 \cdots q_l\) se tiene que \(p_k\) divide a algún \(q_i\) y podemos suponer que \(p_k\) divide a \(q_l\). Como \(q_l\) es irreducible necesariamente \(p_k\) y \(q_l\) son asociados. Escribiendo \(q_l = v p_k\) y cancelando \(p_k\) obtenemos \(p_1 \cdots p_{k-1} = (uv) q_1 \cdots q_{l-1}\). Por la hipótesis de inducción estas dos factorizaciones son equivalentes con lo que \(k = l\) y después de reordenar los \(q_i\) podemos suponer que \(p_i\) es asociado de \(q_i\) para todo \(i = 1, \ldots, k\).
\end{proofbox}
