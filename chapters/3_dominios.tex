\clearpage

\chapter{Divisibilidad en dominios}

\section{Cuerpos y dominios}

\begin{definition}{}{}
Un elemento \(a\) de un anillo \(A\) se dice regular si la relación \(ab = ac\) con \(b, c \in A\) implica que \(b = c\); es decir, si \(a\) es cancelable respecto del producto. Claramente, el 0 nunca es regular (obsérvese la importancia de la hipótesis \(1 \neq 0\) en este caso.)

Un cuerpo es un anillo en el que todos los elementos no nulos son invertibles, y un dominio (o dominio de integridad) es un anillo en el que todos los elementos no nulos son regulares.

Un subanillo de un anillo \(A\) que sea un cuerpo se llama un subcuerpo de \(A\), y un homomorfismo de anillos entre dos cuerpos se llama homomorfismo de cuerpos.
\end{definition}

\begin{remark}
    Si $A$ es un dominio y $0 \neq a,b \in A$, luego $a$ y $b$ son regulares. Supongamos que $ab = 0$, entonces
    \[
    ab = 0 = a0 \implies b = 0
    \]
    ya que $a$ es cancelable, pero esto es una contradicción, luego no puede cumplirse $ab = 0$ si $a,b \neq 0$.
    
    En otras palabras 
    \[
    a,b \neq 0 \implies ab \neq 0 
    \]
    el contrarrecíproco de esta afirmación es
    \[
    ab = 0 \implies a = 0 \text{ ó } b = 0
    \]
\end{remark}

\begin{proposition}{}{cuerpos_dominios}
Todo cuerpo es un dominio.
\end{proposition}

\begin{proofbox}
Si \(A\) es un cuerpo y \(a \in A\), \(a \neq 0\), entonces \(a\) es invertible. Si \(ab = ac\), multiplicando por \(a^{-1}\) obtenemos \(b = c\), luego \(a\) es regular. Como esto vale para todo \(a \neq 0\), \(A\) es un dominio.
\end{proofbox}

\begin{proposition}{}{}
Sea \(A\) un anillo.
\begin{enumerate}
\item Las condiciones siguientes son equivalentes:

\begin{enumerate}
    \item \(A\) es un cuerpo.
    \item Los únicos ideales de \(A\) son \(0\) y \(A\).
    \item Todo homomorfismo de anillos \(A \to B\) con \(B \neq 0\) es inyectivo.
\end{enumerate}

\item Un elemento \(a \in A\) es regular si y solo si la relación \(ab = 0\) con \(b \in A\) implica \(b = 0\) (por este motivo, los elementos no regulares se suelen llamar divisores de cero).

\item \(A\) es un dominio si y solo si, para cualesquiera \(a, b \in A\) no nulos, se tiene \(ab \neq 0\).

\item Todo subanillo de un dominio es un dominio.

\item La característica de un dominio es cero o un número primo.
\end{enumerate}
\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Demostramos las equivalencias.

(a) $\Rightarrow$ (b) Si $A$ es cuerpo e $I$ es un ideal no nulo de $A$, entonces $I$ tiene un elemento $a \neq 0$. Como $A$ es cuerpo, $a$ es invertible, luego $I = A$.

(b) $\Rightarrow$ (c) Si $f: A \to B$ es un homomorfismo con $B \neq 0$, entonces $\ker f$ es un ideal pero $\ker f \neq A$, pues $f(1) = 1 \neq 0$. Entonces, por (b), $\ker f = 0$, luego $f$ es inyectivo.

(c) $\Rightarrow$ (a) Haremos el contrarrecírpoco. Si $A$ no es cuerpo, existe $a \neq 0$ no invertible. Entonces $(a)$ es un ideal propio no nulo, y el homomorfismo canónico
\[
\pi: A \to A/(a),\quad \pi(x) = x + (a)
\]
no es inyectivo ya que
\[
a \in \ker\pi \neq 0.
\]

\item Si $a$ es regular y $ab = 0$, entonces $ab = 0 = a0$, luego $b = 0$. Recíprocamente, si $a$ no es regular, existen $b \neq c$ con $ab = ac$, luego $a(b-c) = 0$ con $b-c \neq 0$.

\item Es consecuencia inmediata de (2).

\item Si $B$ es subanillo de un dominio $A$ y $x, y \in B$ son no nulos, entonces $xy \neq 0$ en $A$, luego también en $B$ ya que su cero es el mismo que el de $A$.

\item Sea $D$ un dominio y consideremos el homomorfismo $f: \mathbb{Z} \to D$ dado por $f(n) = n\cdot 1$. Como $\ker f$ es un ideal de $\mathbb{Z}$, existe $n \geq 0$ tal que $\ker f = (n)$. Si $n = ab$ con $0 < a, b < n$, entonces $f(a)f(b) = f(ab) = 0$, luego $f(a) = 0$ o $f(b) = 0$, contradicción. Así que $n$ es primo o $n = 0$.
\end{enumerate}
\end{proofbox}

\begin{example}{Dominios y cuerpos}{}

\begin{enumerate}
\item Los anillos \(\mathbb{Q}\), \(\mathbb{R}\) y \(\mathbb{C}\) son cuerpos y \(\mathbb{Z}\) es un dominio que no es un cuerpo (aunque es subanillo de un cuerpo).

\item Para \(n \geq 2\), el anillo \(\mathbb{Z}_n\) es un dominio si y solo si es un cuerpo, si y sólo si \(n\) es primo.

\begin{proofbox}
Si $n$ es primo y $\overline{a} \neq 0$ en $\mathbb{Z}_n$, entonces $\mathrm{mcd}(a,n) = 1$, luego existen $x,y$ con $ax + ny = 1$, así que $\overline{a}\overline{x} = \overline{1}$. Recíprocamente, si $n$ no es primo, existen $a,b$ con $1 < a,b < n$ y $n = ab$, luego $\overline{a}\overline{b} = \overline{0}$ con $\overline{a},\overline{b} \neq 0$.
\end{proofbox}

\item Si \(m\) es un entero que no es el cuadrado de un número entero entonces \(\mathbb{Z}[\sqrt{m}]\) es un dominio (subanillo de \(\mathbb{C}\)) que no es un cuerpo (el \(2\) no tiene inverso). Sin embargo, \(\mathbb{Q}[\sqrt{m}]\) sí que es un cuerpo; de hecho, si \(a + b\sqrt{m} \neq 0\), entonces \(q = (a + b\sqrt{m})(a - b\sqrt{m}) = a^2 - b^2 m\) es un número racional no nulo y \((a + b\sqrt{m})^{-1} = \frac{a}{q} - \frac{b}{q}\sqrt{m}\).

\item Un producto de anillos diferentes de \(0\) nunca es un dominio, pues \((1,0)(0,1) = (0,0)\).

\item Los anillos de polinomios no son cuerpos, pues la indeterminada genera un ideal propio y no nulo. Por otra parte, \(A[X]\) es un dominio si y solo si lo es \(A\).

\begin{proofbox}
Si $A$ es dominio y $P,Q \in A[X]$ son no nulos, sean $a_n X^n$ y $b_m X^m$ sus términos de mayor grado. Entonces el coeficiente de $X^{n+m}$ en $PQ$ es $a_n b_m \neq 0$, luego $PQ \neq 0$. El recíproco es claro pues $A$ es subanillo de $A[X]$.
\end{proofbox}

\end{enumerate}
\end{example}

\clearpage
\section{Ideales primos y maximales}

\begin{definition}{Ideal primo}{ideal_primo}
    Un ideal propio \(P \leq A, P \neq A\) es primo si para todo \(a, b \in A\):
    \[
    ab \in P \Rightarrow a \in P \text{ o } b \in P
    \]
\end{definition}

\begin{definition}{Ideal maximal}{ideal_maximal}
    Un ideal propio \(M \leq A, M \neq A\) es maximal si no existe ningún ideal \(I\) tal que \(M \subsetneq I \subsetneq A\).
\end{definition}

\begin{proposition}{Caracterizaciones de ideales maximales y primos}{caracterizacion_maximales_primos}
Sean \(A\) un anillo e \(I\) un ideal propio de \(A\). Entonces:

\begin{enumerate}
\item \(I\) es maximal si y solo si \(A/I\) es un cuerpo.

\item \(I\) es primo si y solo si \(A/I\) es un dominio.

\item Si \(I\) es maximal entonces es primo.

\item \(A\) es un cuerpo si y solo si el ideal \(0\) es maximal.

\item \(A\) es un dominio si y solo si el ideal \(0\) es primo.
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Por el teorema de correspondencia, los ideales de $A/I$ corresponden a los ideales de $A$ que contienen a $I$.

Así, si $I$ es maximal entonces el único ideal distinto de $I$ que contiene a $I$ es $A$. Pero entonces, dado un ideal $J/I \leq A/I$ este ha de corresponder a $A/I$ o a $I/I = 0$, luego los únicos ideales de $A/I$ son $0$ y $A/I$, lo cual es una de las caracterizaciones para que un anillo sea un cuerpo. 

De igual manera, si $A/I$ es un cuerpo, entonces los únicos ideales son $0$ y $A/I$, pero entonces los únicos ideales que contienen a $I$ son $I,A$, es decir, $I$ es maximal.

\item Si $I$ es primo y tomamos $(a + I)(b + I) = ab + I = 0 + I$ entonces
\[
ab \in I \implies a \in I \text{ ó } b \in I \implies a + I = 0 + I \text{ ó } b + I = 0 + I
\]
luego $A/I$ es dominio.

Por el contrario, si $A/I$ es dominio entonces dados $a,b$ tales que $ab \in I$
\[
0 + I = ab + I = (a + I)(b + I) \iff a + I = 0 + I \text{ ó } b + I = 0 + I \iff a \in I \text{ ó } b \in I 
\]
es decir, si $ab \in I$ entonces $a \in I$ o $b \in I$.

\item Se sigue de (1) y (2) ya que
\[
I \text{ maximal} \iff A/I \text{ cuerpo} \implies A/I \text{ dominio} \iff I \text{ primo}.
\]

\item Es inmediato aplicando (1) ya que $A \cong A/(0)$.

\item Es inmediato aplicando (2) ya que $A \cong A/(0)$
\end{enumerate}

\end{proofbox}

\begin{remark}
    La parte 3. de la proposición anterior se puede probar directamente. 
    \begin{proofbox}
    Supongamos que $I$ es maximal pero no primo. Entonces existen $a,b \in A$ tales que $ab \in I$ pero $a,b \notin I$. Consideremos entonces el siguiente ideal
    \[
    I + (a) = \{x + ay : x \in I, y \in A\}.
    \]
    Claramente $I \subseteq I + (a) \subseteq A$, y claramente $I \neq I + (a)$ ya que $a = 0 + a1 \in I + (a), a \notin I$. Pero también tenemos $I + (a) \neq A$ ya que si no fuera así entonces existirían $x_0 \in I, y_0 \in A$ tales que
    \[
    x_0 + ay_0 = 1 \implies bx_0 + aby_0 = b \implies b \in I
    \]
    ya que $bx_0, aby_0 \in I$, lo cual es contradictorio.
    
    Luego $I + (a)$ es un ideal propio que contiene a $I$, pero eso contradice la maximalidad de $I$, por tanto $I$ debe ser primo.
    \end{proofbox}
\end{remark}


\begin{example}{Ejemplos en \(\mathbb{Z}\)}{}
    \begin{itemize}
        \item Los ideales primos de \(\mathbb{Z}\) son \((0)\) y \((p)\) con \(p\) primo.
        \item Los ideales maximales de \(\mathbb{Z}\) son \((p)\) con \(p\) primo.
    \end{itemize}
\end{example}

\begin{proofbox}
    Como sabemos que los ideales de $\Z$ son de la forma $(n)$ basta hacer unas cuantas cuentas.

    Sea $(n)$ un ideal primo de $\Z$. Dados $a,b \in Z$ tales que $ab \in (n)$ entonces $a \in (n)$ o $b \in (n)$. Notemos entonces que
    \[
    x \in (n) \implies x = ny \implies n | x
    \]
    por tanto la condición para que un ideal sea primo es que
    \[
    n | ab \implies n | a \text{ ó } n | b
    \]
    pero esto solo se cumple para $n=0$ o $n$ primo, como queríamos ver.

    Notemos que si $(n) \subseteq (m)$ entonces 
    \[
    n \in (n) \subseteq (m) \implies n = my \implies m | n
    \]
    y de igual manera, si $m | n \implies n = my \implies (n) \subseteq (m)$.
    Sea $(n)$ un ideal maximal, entonces no existe $m \neq \pm 1, \pm n$ tal que $(n) \subsetneq (m) \subsetneq \Z$, es decir, no existe ningún número distinto de $\pm 1, \pm n$ que divida a $n$, luego $n$ es primo como queríamos ver.
\end{proofbox}

\begin{remark}
    El ejemplo anterior también se puede completar considerando los anillos cociente apropiados. Queda como ejercicio para el lector.
\end{remark}

\begin{proposition}{}{}
Todo ideal propio de un anillo está contenido en un ideal maximal.
\end{proposition}

\begin{proofbox}
Sea \(I\) un ideal propio de \(A\) y sea \(\Omega\) el conjunto de los ideales propios de \(A\) que contienen a \(I\). Obsérvese que la unión de una cadena \(I_1 \subseteq I_2 \subseteq I_3 \subseteq \ldots\) de elementos de \(\Omega\) es un ideal, que además es propio, pues si no lo fuera, contendría a \(1\) y por tanto algún \(I_n\) contendría a \(1\) en contra de que todos los \(I_n\) son ideales propios. Aplicando el Lema de Zorn deducimos que \(\Omega\) tiene un elemento maximal que obviamente es un ideal maximal de \(A\).
\end{proofbox}

\begin{remark}
El uso del Lema de Zorn en la demostración anterior implica que este resultado depende del Axioma de Elección. En anillos noetherianos (como \(\mathbb{Z}\) o \(K[X]\) con \(K\) cuerpo) se puede demostrar sin el Axioma de Elección.
\end{remark}

\clearpage
\section{Divisibilidad}

\begin{definition}{Divisibilidad}{}
Sea \(A\) un anillo y sean \(a, b \in A\). Si existe \(c \in A\) tal que \(b = ac\) entonces se dice que \(a\) divide a \(b\) en \(A\), o que \(a\) es un divisor de \(b\) en \(A\), o que \(b\) es un múltiplo de \(a\) en \(A\). Para indicar que \(a\) divide a \(b\) en \(A\) escribiremos \(a \mid b\) en \(A\). Si el anillo \(A\) esta claro por el contexto escribiremos simplemente \(a \mid b\).
\end{definition}

Obsérvese que la nocion de divisibilidad depende del anillo. Por ejemplo, si \(a\) es un entero diferente de \(0\), entonces \(a\) divide a todos los numeros enteros en \(\mathbb{Q}\), pero no necesariamente en \(\mathbb{Z}\).

\begin{lemma}{}{}
Si \(A\) es un anillo y \(a, b, c \in A\) entonces se verifican las siguientes propiedades:

\begin{enumerate}
\item (Reflexiva) \(a \mid a\).

\item (Transitiva) Si \(a \mid b\) y \(b \mid c\), entonces \(a \mid c\).

\item \(a \mid 0\) y \(1 \mid a\).

\item \(0 \mid a\) si y solo si \(a = 0\).

\item \(a \mid 1\) si y solo si \(a\) es una unidad; en este caso \(a \mid x\) para todo \(x \in A\) (es decir, las unidades dividen a cualquier elemento).

\item Si \(a \mid b\) y \(a \mid c\) entonces \(a \mid rb + sc\) para cualesquiera \(r, s \in A\) (y en particular \(a \mid b + c\), \(a \mid b - c\) y \(a \mid rb\) para cualquier \(r \in A\)). Mas generalmente, si \(a\) divide a ciertos elementos, entonces divide a cualquier combinacion lineal suya con coeficientes en \(A\).

\item Si \(c\) no es divisor de cero y \(ac \mid bc\), entonces \(a \mid b\).
\end{enumerate}
\end{lemma}

\begin{proofbox}
\begin{enumerate}
\item \(a = a \cdot 1\), luego \(a \mid a\).

\item Si \(a \mid b\) y \(b \mid c\), existen \(x, y \in A\) tales que \(b = ax\) y \(c = by\). Entonces \(c = a(xy)\), luego \(a \mid c\).

\item \(0 = a \cdot 0\), luego \(a \mid 0\). Tambien \(a = 1 \cdot a\), luego \(1 \mid a\).

\item Si \(0 \mid a\), existe \(x \in A\) tal que \(a = 0 \cdot x = 0\). Recíprocamente, si \(a = 0\), entonces \(0 \mid a\) por (3).

\item Si \(a \mid 1\), existe \(u \in A\) tal que \(1 = au\). Entonces \(u = a^{-1}\) y \(a\) es unidad. Recíprocamente, si \(a\) es unidad, entonces \(1 = a a^{-1}\), luego \(a \mid 1\). Ademas, para cualquier \(x \in A\), \(x = a(a^{-1}x)\), luego \(a \mid x\).

\item Si \(a \mid b\) y \(a \mid c\), existen \(x, y \in A\) tales que \(b = ax\) y \(c = ay\). Entonces \(rb + sc = a(rx + sy)\), luego \(a \mid rb + sc\).

\item Si \(ac \mid bc\), existe \(d \in A\) tal que \(bc = acd\). Como \(c\) no es divisor de cero, podemos cancelar: \(b = ad\), luego \(a \mid b\).
\end{enumerate}
\end{proofbox}

\begin{definition}{Elementos asociados}{}
Dos elementos \(a\) y \(b\) de un anillo \(A\) se dice que son asociados en \(A\) si se dividen mutuamente en \(A\); es decir, si \(a \mid b\) y \(b \mid a\) en \(A\). Cuando este claro por el contexto en que anillo estamos trabajando, diremos simplemente que \(a\) y \(b\) son asociados.
\end{definition}

Por ejemplo, una unidad es lo mismo que un elemento asociado a 1.
Es elemental ver que <<ser asociados>> es una relacion de equivalencia en \(A\), y que dos elementos son asociados si y solo si tienen los mismos divisores, si y solo si tienen los mismos múltiplos. Por lo tanto, al estudiar cuestiones de divisibilidad, un elemento tendrá las mismas propiedades que sus asociados.

\begin{lemma}{Asociados en dominios}{}
Si \(D\) es un dominio entonces \(a, b \in D\) son asociados en \(D\) si y solo si existe una unidad \(u\) de \(D\) tal que \(b = au\).
\end{lemma}

\begin{proofbox}
Si \(b = au\) con \(u\) unidad entonces \(a = bu^{-1}\) con lo que \(a \mid b\) y \(b \mid a\), es decir \(a\) y \(b\) son asociados. 

Recíprocamente, supongamos que \(a\) y \(b\) son asociados. Entonces \(b = au\) y \(a = bv\) para ciertos \(u, v \in D\). Claramente si \(a\) o \(b\) es 0 entonces el otro tambien es 0, con lo que en este caso \(a = b1\). Por otro lado, si \(a\) y \(b\) son ambos distintos de 0 tambien lo son \(u\) y \(v\) con lo que \(uv \neq 0\) por ser \(D\) un dominio. Como ademas \(auv = bv = a = a1\) y \(a\) es cancelable por ser distinto de 0 y \(D\) un dominio, deducimos que \(uv = 1\) con lo que \(u\) es una unidad de \(D\).
\end{proofbox}

Sabemos que cualquier elemento \(a\) de un anillo \(A\) es divisible por sus asociados y por las unidades de \(A\), y que si \(a\) divide a uno de los elementos \(b\) o \(c\) entonces divide a su producto \(bc\). A continuacion estudiamos los elementos que verifican los recíprocos de estas propiedades.

A menudo consideraremos elementos \(a\) de un anillo \(A\) que no son cero ni unidades, lo que sintetizaremos en la forma \(0 \neq a \in A \setminus A^*\).

\begin{definition}{Elementos irreducibles y primos}{}
Diremos que un elemento \(a\) del anillo \(A\) es irreducible si \(0 \neq a \in A \setminus A^*\) y la relacion \(a = bc\) en \(A\) implica que \(b \in A^*\) o \(c \in A^*\) (y por lo tanto que uno de los dos es asociado de \(a\)).

Diremos que \(a\) es primo si \(0 \neq a \in A \setminus A^*\) y la relacion \(a \mid bc\) en \(A\) implica que \(a \mid b\) o \(a \mid c\).

Ambas nociones dependen del anillo ambiente, y si este no esta claro por el contexto hablaremos de irreducibles y primos en \(A\).
\end{definition}

\begin{proposition}{}{primo_implica_irreducible}
En un dominio \(A\) todo elemento primo es irreducible.
\end{proposition}

\begin{proofbox}
Sea \(p\) un elemento primo de \(A\) y supongamos que \(p = ab\), con \(a, b \in A\). Entonces \(p \mid ab\) y como \(p\) es primo, \(p \mid a\) o \(p \mid b\). Supongamos que \(p \mid a\). Entonces existe \(u \in A\) tal que \(a = pu\). Sustituyendo en \(p = ab\) obtenemos \(p = pub\), luego \(p(1 - ub) = 0\). Como \(p \neq 0\) y \(A\) es dominio, \(1 - ub = 0\), es decir, \(ub = 1\), luego \(b\) es unidad. Esto demuestra que \(p\) es irreducible.
\end{proofbox}

El recíproco no se verifica en general, como muestra el siguiente ejemplo.

\begin{example}{Irreducible no implica primo: Parte 1}{irreducible_no_primo}
Veamos primero el contraejemplo y luego una justificación de cómo se llega al resultado.

En el anillo \(\mathbb{Z}[\sqrt{-5}]\) consideremos la factorización:
\[
6 = 2 \cdot 3 = (1 + \sqrt{-5})(1 - \sqrt{-5}).
\]

Veamos que \(2\) es irreducible pero no primo:
\begin{itemize}
\item 2 es irreducible. Supongamos que \(2 = \alpha\beta\) con \(\alpha, \beta \in \mathbb{Z}[\sqrt{-5}]\). Considerando la norma \(N(a + b\sqrt{-5}) = a^2 + 5b^2\), tenemos:
\[
N(2) = 4 = N(\alpha)N(\beta).
\]
Las únicas factorizaciones de 4 en enteros positivos son \(4 = 1 \cdot 4 = 2 \cdot 2 = 4 \cdot 1\). No existe ningún elemento en \(\mathbb{Z}[\sqrt{-5}]\) con norma 2 (pues \(a^2 + 5b^2 = 2\) no tiene soluciones enteras). Por tanto, una de las normas debe ser 1 y la otra 4. Si \(N(\alpha) = 1\), entonces \(\alpha\) es unidad; si \(N(\beta) = 1\), entonces \(\beta\) es unidad. Luego 2 es irreducible.

\item 2 no es primo. Observemos que:
\[
2 \mid 6 = (1 + \sqrt{-5})(1 - \sqrt{-5}),
\]
pero \(2 \nmid (1 + \sqrt{-5})\) y \(2 \nmid (1 - \sqrt{-5})\), pues si \(2 \mid (1 + \sqrt{-5})\), existiría \(\gamma \in \mathbb{Z}[\sqrt{-5}]\) tal que \(1 + \sqrt{-5} = 2\gamma\), lo cual es imposible (comparando partes enteras e irracionales). Por tanto, 2 no es primo.
\end{itemize}

\end{example}


\begin{example}{Irreducible no implica primo: Parte 2}{}
En el anillo \(\mathbb{Z}[\sqrt{-5}]\) hay elementos irreducibles que no son primos. Comencemos observando que el cuadrado del modulo de un elemento \(a + b\sqrt{-5}\) de \(\mathbb{Z}[\sqrt{-5}]\), con \(a, b \in \mathbb{Z}\) es
\[
N(a + b\sqrt{-5}) = |a + b\sqrt{-5}|^2 = a^2 + 5b^2.
\]
notemos además que \(N(xy) = N(x)N(y)\).

Claramente, si \(x \mid y\) en \(\mathbb{Z}[\sqrt{-5}]\), entonces \(N(x)\) divide a \(N(y)\) en \(\mathbb{Z}\). En particular, si \(x = a + b\sqrt{-5}\) y \(N(x) = 1\) entonces
\[
N(x) = a^2 + 5 b^2 = 1 \implies a = \pm 1, b = 0 \implies x = \pm 1.
\]
De aqui deducimos que si un cierto elemento $u$ cumple $uv = 1$ entonces
\[
N(u) | N(1) = 1 \implies N(u) = 1
\]
por tanto las unidades en \(\Z[\sqrt{-5}]\) son
\[
\mathbb{Z}[\sqrt{-5}]^* = \{x \in \mathbb{Z}[\sqrt{-5}] : |x|^2 = 1\} = \{1, -1\}.
\]

Por otro lado los cuadrados en \(\mathbb{Z}_5\) son \(0 + (5)\) y \(\pm 1 + (5)\), y por lo tanto la congruencia 
\[
a^2 \equiv \pm 2 \mod 5
\]
no tiene solucion. Esto implica que en \(\mathbb{Z}[\sqrt{-5}]\) no hay elementos cuyo modulo al cuadrado valga \(2\), \(3\) o \(12\).

Sea ahora \(x \in \mathbb{Z}[\sqrt{-5}]\) con \(N(x) = 4\). Si un cierto elemento $y$ divide a $x$, entonces
\[
y \mid x \implies N(y) | N(x) = 4
\]
pero al estar en $\Z$, $N(y)$ debe valer \(1\), \(2\) o \(4\).
\begin{itemize}
    \item Si $N(y) = 1$ entonces $y$ es una unidad.
    \item $N(y) = 2$ es imposible porque ya hemos visto que no hay elementos con norma 2.
    \item Si $N(y) = 4$ entonces $y$ es asociado de $x$. En efecto como sabemos que 
    \[
    y | x \implies x = ay \implies N(x) = 4 = N(a)N(y) = 4 N(a)
    \]
    es decir, $N(a) = 1$, luego $a$ es una unidad y por tanto $y = xa^-1 \implies x | y$.
\end{itemize}
Con esto hemos probado que $2$ es irreducible.

De igual modo se puede ver que los elementos con modulo \(6\) o \(9\) son irreducibles, en particular lo son todos los factores de la igualdad
\[
2 \cdot 3 = (1 + \sqrt{-5})(1 - \sqrt{-5}).
\]
Pero ninguno de ellos es primo. En concreto, de la igualdad se deduce que
\[
2 \mid (1 + \sqrt{-5})(1 - \sqrt{-5})
\]
y es claro que \(2 \nmid (1 + \sqrt{-5})\) y \(2 \nmid (1 - \sqrt{-5})\).
\end{example}

\clearpage
\subsection{Divisibilidad en términos de ideales principales}

Todas las nociones de divisibilidad que hemos presentado pueden enunciarse en terminos de los ideales principales generados por los elementos involucrados.

\begin{proposition}{}{divisibilidad_ideales_principales}
Si \(D\) es un dominio y \(a, b \in D\) entonces se verifican las siguientes propiedades:

\begin{enumerate}
\item \(a = 0\) si y solo si \((a) = 0\).

\item \(a \in D^*\) si y solo si \((a) = D\).

\item \(a \mid b\) si y solo si \((b) \subseteq (a)\) (o si \(b \in (a)\)).

\item \(a\) y \(b\) son asociados si y solo si \((a) = (b)\).

\item \(a\) es primo si y solo si \((a)\) es un ideal primo no nulo de \(D\).

\item \(a\) es irreducible si y solo si \((a)\) es maximal entre los ideales principales propios no nulos de \(D\); es decir, \(a \neq 0\) y \((a) \subseteq (b) \subset D\) implica \((a) = (b)\).
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
    \item Si \(a = 0\) entonces \((a) = \{0\} = 0\). Recíprocamente, si \((a) = 0\) entonces \(a \in \{0\} \implies a = 0\).

    \item Si \(a\) es unidad, existe \(a^{-1} \in D\) tal que \(aa^{-1} = 1\), luego \(1 \in (a)\) y \((a) = D\). Recíprocamente, si \((a) = D\), entonces \(1 \in (a)\), luego existe \(b \in D\) tal que \(ab = 1\), por lo que \(a\) es unidad.

    \item Si \(a \mid b\), existe \(c \in D\) tal que \(b = ac\), luego \(b \in (a)\) y \((b) \subseteq (a)\). Recíprocamente, si \((b) \subseteq (a)\), entonces \(b \in (b) \subseteq (a)\), luego existe \(c \in D\) tal que \(b = ac\), es decir, \(a \mid b\).

    \item Si \(a\) y \(b\) son asociados, entonces \(a \mid b\) y \(b \mid a\), luego \((b) \subseteq (a)\) y \((a) \subseteq (b)\), es decir, \((a) = (b)\). Recíprocamente, si \((a) = (b)\), entonces por (3) \(a \mid b\) y \(b \mid a\).

    \item Si \(a\) es primo, entonces \(a \neq 0\) y si \(bc \in (a)\), entonces \(a \mid bc\), luego \(a \mid b\) o \(a \mid c\), es decir, \(b \in (a)\) o \(c \in (a)\). Recíprocamente, si \((a)\) es primo no nulo, entonces \(a \neq 0\) y si \(a \mid bc\), entonces \(bc \in (a)\), luego \(b \in (a)\) o \(c \in (a)\), es decir, \(a \mid b\) o \(a \mid c\).

    \item Si \(a\) es irreducible y \((a) \subseteq (b) \subset D\), entonces \(a \in (b)\), luego existe \(c \in D\) tal que \(a = bc\). Como \(a\) es irreducible, \(b\) es unidad o \(c\) es unidad. Si \(b\) es unidad, entonces \((b) = D\), contradiccion. Luego \(c\) es unidad y \(a\) y \(b\) son asociados, por lo que \((a) = (b)\). Recíprocamente, si \(a = bc\), entonces \((a) \subseteq (b)\). Si \(b\) no es unidad, entonces \((b) \subset D\), luego por hipotesis \((a) = (b)\), por lo que \(a\) y \(b\) son asociados y \(c\) es unidad.
\end{enumerate}

\end{proofbox}

\begin{remark}
    \textbf{Pregunta para el lector:} ?`en algún momento hemos usado que $D$ es un dominio?
    
    \noindent\textbf{Respuesta del autor:} Yo diría que en ningún momento, pero como no estoy seguro rezo porque siempre que tenga que usar esta proposición esté trabajando con un dominio...
\end{remark}

\subsection{Máximo común divisor y mínimo común múltiplo}

\begin{definition}{}{}
Sea \(A\) un anillo y sean \(S\) un subconjunto de \(A\) y \(a \in A\).

\begin{enumerate}
    \item \(a\) es un máximo común divisor de \(S\) en \(A\) si \(a\) es divisor de cada elemento de \(S\), y múltiplo de cada elemento de \(A\) que sea divisor de todos los elementos de \(S\).

    \item \(a\) es un mínimo común múltiplo de \(S\) en \(A\) si \(a\) es múltiplo de cada elemento de \(S\), y divisor de cada elemento de \(A\) que sea múltiplo de todos los elementos de \(S\).
\end{enumerate}
\end{definition}

Obsérvese que no hablamos del máximo común divisor ni del mínimo común múltiplo, sino que en ambos casos usamos el articulo indeterminado un. En la siguiente proposición se precisa por qué tenemos que usar el articulo indeterminado y hasta qué punto el máximo común divisor y el mínimo común múltiplo son únicos. Sin embargo, en ocasiones abusaremos del lenguaje diciendo el máximo común divisor o el mínimo común múltiplo, entendiendo que son conceptos que son únicos salvo asociados. Tambien abusaremos del lenguaje escribiendo \(d = \mathrm{mcd}(S)\) o \(m = \mathrm{mcm}(S)\) queriendo decir en tal caso que \(d\) es un máximo común divisor de \(S\) en \(A\) y que \(m\) es un mínimo común múltiplo de \(S\) en \(A\), respectivamente.

\begin{proposition}{}{}
Sea \(A\) un anillo y sean \(S\) un subconjunto de \(A\) y \(a, b \in A\). Entonces
\begin{enumerate}
\item \(a\) es un máximo común divisor de \(S\) en \(A\) si y solo si \((a)\) es el menor ideal principal de \(A\) que contiene a \(S\). En particular si \((S) = (a)\) entonces \(a\) es el máximo común divisor de \(S\).

\item \(a\) es un mínimo común múltiplo de \(S\) en \(A\) si y solo si \((a)\) es el mayor ideal principal contenido en \(\cap_{s \in S}(s)\). En particular, si \((a) = \cap_{s \in S}(s)\) entonces \(a\) es mínimo común múltiplo de \(S\).

\item Sea \(a\) un máximo común divisor de \(S\). Entonces \(b\) tambien es máximo común divisor de \(S\) si y solo si \(a\) y \(b\) son asociados en \(A\).

\item Sea \(a\) es un mínimo común múltiplo de \(S\). Entonces \(b\) tambien es mínimo común múltiplo de \(S\) si y solo si \(a\) y \(b\) son asociados en \(A\).

\item Si \(a\) es un divisor común de los elementos de \(S\) y \(a \in (S)\) entonces \(a = \mathrm{mcd}(S)\).

Obsérvese que la condicion \(a \in (S)\) significa que existen elementos \(s_1, \ldots, s_n \in S\) y \(a_1, \ldots, a_n \in A\) tales que
\[
a = a_1 s_1 + \cdots + a_n s_n.
\]
En el caso en que \(a = \mathrm{mcd}(S)\) se dice que esta expresion es una identidad de Bezout para \(S\).

\item Se verifica \(1 = \mathrm{mcd}(S)\) si y solo si los unicos divisores comúnes de los elementos de \(S\) son las unidades de \(A\).

\item Si \(1 \in (S)\) (o sea, 1 es combinacion lineal de elementos de \(S\)) entonces \(1 = \mathrm{mcd}(S)\).
\end{enumerate}

\end{proposition}

\begin{proofbox}

\begin{enumerate}
\item Usando la definicion de máximo común divisor tenemos que si \(a = \mathrm{mcd}(S)\), entonces $a | s$ para todo $s\in S$. Entonces, por el apartado (3) de \ref{prop:divisibilidad_ideales_principales}, \((s) \subseteq (a)\) para todo \(s \in S\). Además, dado un ideal principal $(b)$ tal que $S \subseteq (b)$ se verifica
\[
s \in S \subseteq (b) \implies s = bc
\]
para cualquier elemento $s \in S$. Pero entonces $b | s$, por lo que $a$ debe ser múltiplo de $b$, es decir $a = bc$, pero entonces $(a) \subseteq (b)$ como queríamos ver.

Por el contrario, supongamos que \((a)\) es el menor ideal principal de \(A\) que contiene a \(S\). En concreto $S \subseteq (a)$, por tanto dado $s \in S$
\[
s \in (a) \implies s = ac \implies a | s
\]
luego $a$ divide a todos los elementos de $S$. Supongamos que $b$ es otro elemento que también divide a todos, en tal caso 
\[
b | s \implies (s) \subseteq (b) \implies S \subseteq (b)
\]
pero entonces por hipótesis $(a) \subseteq (b)$, por tanto $a = bc$, es decir, $a$ es múltiplo de $b$, luego $a = \mathrm{mcd}(S)$.

\item La demostración es similar a (1), omitimos algunos pequeños detalles.

Si $a$ es un $\text{mcm}$ entonces dado $s \in S$ tenemos $a = sx_s$, luego $(a) \subseteq (s)$, por tanto
\[
(a) \subseteq \cap_{s \in S} (s).
\]
Si $(b)$ es otro ideal tal que $(b) \subseteq \cap_{s \in S} (s)$ entonces $(b) \subseteq (s)$, luego $b = sy_s$ para cada $s$ y por la definición de $\text{mcm}$ debe ser $a | b$, lo cual implica
\[
(b) \subseteq (a)
\]
luego $(a)$ es el máximo ideal contenido en la interesección.

Por el contrario, si $(a)$ es el máximo ideal contenido en $\cap_{s \in S} (s)$ entonces $a \in (a) \subseteq (s) \implies a = sx_s$ para cada $s$. Supongamos que $b = sy_s$ también para todo $s \in S$, en tal caso
\[
(b) \subseteq \cap_{s \in S} (s) \implies (b) \subseteq (a) \implies a | a.
\] 

\item Claramente si $b$ también es máximo común divisor entonces $a = bc, b = ad$, luego $b | a, a | b$, es decir, $a$ y $b$ son asociados. Si por el contrario $a | b, b | a$ entonces dado $s \in S,\ b | a | s \implies b | s$, y si $c$ es otro elemento que divide a cada $s$ tenemos entonces $a = cx$, pero como $a | b \implies b = ay = cxy$ es decir, $b$ es también un $\text{mcd}$.

\item Si $b$ también es mínimo común múltiplo entonces $a | b, b | a$, luego $a$ y $b$ son asociados. Si por el contrario $a | b, b | a$ entonces $b = ac$, y dado $s \in S,\ a = sx_s \implies b = scx_s$, y si $c$ es otro elemento que es múltiplo de cada $s$ tenemos entonces $b | a | c$, es decir, $b$ es también un $\text{mcm}$.

\item Supongamos que \(a\) satisface la condicion dada y sea \(b\) un elemento de \(A\) que divide a todos los elementos de \(S\). Entonces divide a \(a_1 s_1 + \cdots + a_k s_k = a\). Esto demuestra que \(a = \mathrm{mcd}(S)\).

\item Si \(1 = \mathrm{mcd}(S)\) y \(d\) es un divisor común de los elementos de \(S\), entonces \(d \mid 1\), luego \(d\) es unidad. Recíprocamente, si los unicos divisores comunes son unidades, entonces \(1\) es un máximo común divisor.

\item Es consecuencia inmediata de (5).
\end{enumerate}

\end{proofbox}

\begin{example}{}{}
Los recíprocos de las propiedades (5) y (7) no se verifican. Por ejemplo, los unicos divisores comunes de \(2\) y \(X\) en \(\mathbb{Z}[X]\) son \(1\) y \(-1\), es decir las unidades de \(\mathbb{Z}[X]\). Por tanto, \(1 = \mathrm{mcd}(2,X)\). Sin embargo, \(1 \not\in (2,X)\).
\end{example}

\begin{definition}{Coprimos}{coprimos}
Si \(1 = \mathrm{mcd}(S)\) decimos que los elementos de \(S\) son coprimos en \(A\). Si para cada par de elementos distintos \(a, b \in S\) se verifica \(\mathrm{mcd}(a,b) = 1\), decimos que los elementos de \(S\) son coprimos dos a dos.
\end{definition}

\clearpage
\section{Dominios de factorización única}

\begin{definition}{Factorización en irreducibles}{}
Sea \(D\) un dominio. Una factorización en producto de irreducibles de un elemento \(a\) de \(D\) es una expresión del tipo
\[
a = u p_1 \cdots p_n
\]
donde \(n \in \mathbb{Z}^{\geq 0}\), \(u\) es una unidad de \(D\) y \(p_1, \ldots, p_n\) son irreducibles de \(D\). Obsérvese que se admite la posibilidad de que sea $n = 0$, en cuyo caso la factorización se reduce a $a = u$ ya que, por convenio, el producto vacío es 1.
\end{definition}

\begin{definition}{Dominio de factorización}{}
Diremos que \(D\) es un dominio de factorización o DF si todo elemento no nulo de \(D\) admite una factorización en producto de irreducibles.
\end{definition}

Dos factorizaciones de \(a \in D\) en producto de irreducibles se dice que son equivalentes si solo se diferencian en el orden y en asociados. Dicho con más rigor, las factorizaciones
\[
a = u p_1 \cdots p_n = v q_1 \cdots q_m
\]
(con \(u, v \in D^*\) y el resto de factores irreducibles) son equivalentes si \(n = m\) y existe una permutación \(\sigma\) de \(N_n\) (una biyección de \(N_n = \{1, 2, \ldots, n\}\) en sí mismo) tal que \(p_i\) y \(q_{\sigma(i)}\) son asociados para cada \(i = 1, \ldots, n\).

\begin{definition}{Dominio de factorización única}{DFU}
Diremos que \(D\) es un dominio de factorización única o DFU (UFD, en inglés) si es un dominio de factorización en el que, para cada \(0 \neq a \in D\), todas las factorizaciones de \(a\) son equivalentes.
\end{definition}

\begin{example}{}{}
El Teorema Fundamental de la Aritmética simplemente nos dice que el anillo de los números enteros \( \Z \) es un DFU.
\end{example}

\begin{example}{}{Z_sqrt_m}
Sea \(m\) un entero positivo. Vamos a ver que \(\mathbb{Z}[\sqrt{m}]\) es un dominio de factorización. Si \(m\) es un cuadrado en \(\mathbb{Z}\) entonces \(\mathbb{Z}[\sqrt{m}] = \mathbb{Z}\) que es un dominio de factorización. Por tanto, a partir de ahora suponemos que \(m\) no es un cuadrado en \(\mathbb{Z}\) y siempre que utilicemos una expresión \(a + b\sqrt{m}\) suponemos implícitamente que \(a\) y \(b\) son enteros. Vamos a utilizar la conjugación en \(\mathbb{Z}[\sqrt{m}]\) que es la siguiente aplicación (si \(m\) es negativo, esta aplicación es la conjugación compleja, si \(m\) es positivo entonces es una aplicación diferente, que también llamaremos conjugación).
\[
\overline{(\cdot)}: \mathbb{Z}[\sqrt{m}] \to \mathbb{Z}[\sqrt{m}], \quad a + b\sqrt{m} \mapsto \overline{a + b\sqrt{m}} = a - b\sqrt{m}
\]
Es fácil comprobar que esta aplicación es un homomorfismo de anillos.  Además, la siguiente aplicación
\[
N: \mathbb{Z}[\sqrt{m}] \to \mathbb{Z}, \quad a + b\sqrt{m} \mapsto a^2 - b^2 m = (a + b\sqrt{m})(a - b\sqrt{m})
\]
satisface \(N(xy) = N(x)N(y)\) para todo \(x, y \in \mathbb{Z}[\sqrt{m}]\) ya que 
\[
N(xy) = (xy)\overline{(xy)} = x \overline{x} y \overline{y} = N(x)N(y)
\]
usando que la conjugación es un homomorfismo.

Sea \(x \in \mathbb{Z}[\sqrt{m}]\). Si \(x\) es invertible en \(\mathbb{Z}[\sqrt{m}]\) entonces \(1 = N(1) = N(xx^{-1}) = N(x)N(x^{-1})\) con lo que \(N(x)\) es invertible en \(\mathbb{Z}\), es decir \(N(x) = \pm 1\). Recíprocamente, si \(N(x) = \pm 1\), entonces \(x\overline{x} = \pm 1\), con lo que \(x\) es invertible en \(\mathbb{Z}[\sqrt{m}]\). Esto demuestra que las unidades son los elementos de norma $\pm 1$
\[
\mathbb{Z}[\sqrt{m}]^* = \{x \in \mathbb{Z}[\sqrt{m}] : |N(x)| = 1\}.
\]

Vamos a demostrar que si \(x \neq 0\) entonces tiene una factorización en \(\mathbb{Z}[\sqrt{m}]\) por inducción en \(|N(x)|\). Observese que \(N(x) \neq 0\) pues si \(a^2 - b^2 m = 0\) entonces \(m\) es un cuadrado en \(\mathbb{Z}\) en contra de la hipótesis. Por tanto, el menor valor posible para \(|N(x)|\) es 1 y en el caso en que \(|N(x)| = 1\) entonces \(x\) es una unidad con lo que efectivamente tiene una factorización. Asumamos pues la hipótesis de inducción y supongamos que \(|N(x)| > 1\). Entonces \(x\) no es unidad. Si \(x\) es irreducible por supuesto que tiene una factorización con lo que podemos suponer que \(x\) no es irreducible. Por tanto \(x = ab\) con \(a\) y \(b\) no unidades. Por tanto \(|N(a)|\) y \(|N(b)|\) son divisores propios de \(|N(x)|\) y por hipótesis de inducción \(a\) y \(b\) son productos de irreducibles. Luego \(x\) también es producto de irreducibles.
\end{example}

En el siguiente lema vemos que en un DFU los elementos irreducibles coinciden con los primos.

\begin{lemma}{}{DFU_irreducible}
Si \(D\) es un DFU, entonces todo elemento irreducible de \(D\) es primo.
\end{lemma}

\begin{proofbox}
Sea \(p \in D\) irreducible, y sean \(a, b \in D\) tales que \(p \mid ab\). Se trata de ver que \(p \mid a\) o \(p \mid b\). Esto está claro si \(a = 0\) o \(b = 0\) con lo que suponemos que ambos son diferentes de 0. Por hipótesis \(pt = ab\) para algún \(t \in D\). Si \(t = w p_1 \cdots p_n\), \(a = v q_1 \cdots q_m\) y \(b = u r_1 \cdots r_k\) son factorizaciones en irreducibles (con \(w, v, u \in D^*\)), entonces se tiene
\[
pt = tp = w p_1 \cdots p_n p  = (vu) q_1 \cdots q_m r_1 \cdots r_k,
\]
y por la unicidad de la factorización \(p\) es asociado de algún \(q_i\) (y entonces \(p \mid a\)) o de algún \(r_i\) (y entonces \(p \mid b\)).
\end{proofbox}

Según hemos visto en el Ejemplo \ref{ex:Z_sqrt_m} \(\mathbb{Z}[\sqrt{-5}]\) es un DF. Sin embargo, en el Ejemplo \ref{ex:irreducible_no_primo} hemos visto que tiene elementos irreducibles no primos, y por tanto no es DFU.

Introducimos ahora una definición muy similar a la de factorización en irreducibles.
\begin{definition}{Factorización en primos}{}
Sea \(D\) un dominio. Una factorización en producto de primos de un elemento \(a\) de \(D\) es una expresión del tipo
\[
a = u p_1 \cdots p_n
\]
donde \(n \in \mathbb{Z}^{\geq 0}\), \(u\) es una unidad de \(D\) y \(p_1, \ldots, p_n\) son primos de \(D\). Obsérvese que se admite la posibilidad de que sea $n = 0$, en cuyo caso la factorización se reduce a $a = u$ ya que, por convenio, el producto vacío es 1.
\end{definition}

\begin{proposition}{}{equivalencias_DFU}
Para un dominio \(D\), las condiciones siguientes son equivalentes:

\begin{enumerate}
\item \(D\) es un dominio de factorización única.

\item \(D\) es un dominio de factorización en el que todo elemento irreducible es primo.

\item Todo elemento no nulo de \(D\) es producto de primos.
\end{enumerate}

\end{proposition}

\begin{proofbox}
(1) $\Rightarrow$ (2): Por ser un DFU, $D$ es en concreto un $DF$. Además, por el Lema \ref{lem:DFU_irreducible} todo elemento irreducible es primo, como queríamos ver.

(2) $\Rightarrow$ (3): Sea $0 \neq a \in D$, como $D$ es DF $a$ admite una factorización en producto de irreducibles
\[
a = u p_1 \dots p_n
\]
y por hipótesis todos los elementos irreducibles son primos, luego los $p_i$ son primos y por tanto $a$ es producto de primos (salvo la unidad $u$).

(3) $\Rightarrow$ (1): Sea $0 \neq a \in D$, por hipótesis sabemos que $a$ es producto de primos, luego
\[
a = u p_1 \cdots p_k.
\]
Como todo primo es irreducible esta es también una factorización en producto de irreducibles, luego $D$ es un dominio de factorización. Supogamos que existe otra factorización
\[
a = u' q_1 \cdots q_l.
\]
Entonces deducimos que 
\[
p_1 \cdots p_k = (u'u^{-1}) q_1 \cdots q_l
\]
con \(w = u'u^{-1}\) una unidad. Razonamos por inducción sobre \(k\). Si \(k = 0\) entonces necesariamente \(l = 0\). Supongamos que \(k > 0\) y que la propiedad se verifica para factorizaciones con menos de \(k\) primos. Como \(p_k\) es primo y divide a \(q_1 \cdots q_l\) se tiene que \(p_k\) divide a algún \(q_i\) y podemos suponer que \(p_k\) divide a \(q_l\). Como \(q_l\) es irreducible necesariamente \(p_k\) y \(q_l\) son asociados. Escribiendo \(q_l = v p_k\) y cancelando \(p_k\) obtenemos \(p_1 \cdots p_{k-1} = (wv) q_1 \cdots q_{l-1}\). Por la hipótesis de inducción estas dos factorizaciones son equivalentes con lo que \(k = l\) y después de reordenar los \(q_i\) podemos suponer que \(p_i\) es asociado de \(q_i\) para todo \(i = 1, \ldots, k\).
\end{proofbox}

\begin{theorem}{Máximo común divisor y mínimo común múltiplo en un DFU}{}
Si $D$ es un $DFU$ entonces $\forall a,b \in D$ existen $\mcd(a,b), \mcm(a,b)$.
\end{theorem}

\begin{proofbox}
En primer lugar, vamos a ver que existe un conjunto de representantes $P$ de irreducibles tal que cualquier $0 \neq a \in D$ se escribe como
\[
a = u \prod_{p \in P} p^{\alpha_p(a)},
\]
donde $u$ es una unidad, $\alpha_p(a) \in \Z^{\geq 0}$ y solo un número finito de $\alpha_p$ es distinto de 0.

Sea $\mathcal{I}$ el conjunto de todos los elementos irreducibles de $D$. Definimos en $\mathcal{I}$ la relación de equivalencia:
\[
p \sim q \iff \text{$p$ es asociado de $q$}
\]
Por el axioma de elección, podemos elegir exactamente un elemento de cada clase de equivalencia de $\mathcal{I}/\sim$. Llamemos $P$ a este conjunto de representantes.

Ahora, sea $0 \neq a \in D$, entonces
\[
a = v q_1 \cdots q_n
\]
con cada $q_i$ irreducible, pero entonces cada uno de ellos es asociado de algún $p \in P$, luego $q_i = u_i p_i$ para cada $i$, es decir,
\[
a = (v u_1 \cdots u_n) p_1 \cdots p_n = u \prod_{p \in P} p^{\alpha_p(a)}
\]
donde la última igualdad se obtiene agrupando todas las unidades y agrupando cada $p_i \in P$. Cada número $\alpha_p(a)$ corresponde al número de veces que aparece un elemento asociado a $p$ en la factorización de $a$. Como hay un número finito de $q_i$ en la factorización, está claro que casi todos los $\alpha_p(a)$ son 0.

Sean $a,b \in D$, por hipótesis $a$ y $b$ tienen factorizaciones únicas en irreducibles, luego
\[
a = u \prod_{p \in P} p^{\alpha_p},\quad b = v \prod_{p \in P} p^{\beta_p}.
\]
Probemos ahora la existencia de mcd y mcm.
\begin{itemize}
\item 
Sea $\gamma_p = \min(\alpha_p, \beta_p)$, entonces
\[
d = \prod_{p \in P} p^{\gamma_p}
\]
divide a ambos $a,b$, y si $c$ es otro divisor de ambos entonces
\[
c=u_c \prod_{p \in P} p^{\delta_p} \mid a,b \implies \delta_p \leq \alpha_p, \beta_p \implies \delta_p \leq \min(\alpha_p, \beta_p) = \gamma_p 
\]
es decir, $c \mid d$. Por tanto, $d$ es un mcd de $a,b$. 

\item Definimos
\[
m = \prod_{p \in P} p^{\mu_p}, \quad \mu_p = \max(\alpha_p, \beta_p).
\]
Como \( \mu_p \ge \alpha_p \) y \( \mu_p \ge \beta_p \) y $u,v$ son unidades entonces \( a \mid m \) y \( b \mid m \). Además, si \( a \mid t \) y \( b \mid t \), podemos escribir
\[
t = u_t \prod_p p^{\tau_p}.
\]  
Sabemos que \( a \mid t \) implica \( \alpha_p \le \tau_p \), \( b \mid t \) implica \( \beta_p \le \tau_p \), luego \( \max(\alpha_p, \beta_p) = \mu_p \le \tau_p \). Así \( m \mid t \).

Por tanto, \( m \) es un mcm de \( a \) y \( b \).

\end{itemize}
\end{proofbox}


\clearpage
\section{Dominios de ideales principales}

\begin{definition}{Dominio de ideales principales}{DIP}
Un dominio de ideales principales, o DIP (PID, en la literatura en ingles), es un dominio en el que todos los ideales son principales.
\end{definition}

\begin{proposition}{}{propiedades_DIP}
Si \(D\) es un DIP y \(0 \neq a \in D \setminus D^*\), las siguientes condiciones son equivalentes:

\begin{enumerate}
\item \(a\) es irreducible.

\item \((a)\) es un ideal maximal.

\item \(D/(a)\) es un cuerpo.

\item \(a\) es primo.

\item \((a)\) es un ideal primo.

\item \(D/(a)\) es un dominio.
\end{enumerate}

\end{proposition}

\begin{proofbox}

(1) \(\Leftrightarrow\) (2): Por la Proposición \ref{prop:divisibilidad_ideales_principales}, \(a\) es irreducible si y solo si \((a)\) es maximal entre los ideales principales propios. Pero como \(D\) es DIP, todo ideal es principal, luego \((a)\) es maximal entre todos los ideales propios, es decir, es maximal.

(2) \(\Leftrightarrow\) (3): Por un resultado previo, \((a)\) es maximal si y solo si \(D/(a)\) es cuerpo.

(4) \(\Leftrightarrow\) (5): Por la Proposición \ref{prop:divisibilidad_ideales_principales}, \(a\) es primo si y solo si \((a)\) es primo.

(5) \(\Leftrightarrow\) (6): Por un resultado previo, \((a)\) es primo si y solo si \(D/(a)\) es dominio.

(2) \(\Rightarrow\) (5): Por un resultado previo, todo ideal maximal es primo.

(4) \(\Rightarrow\) (1): En cualquier dominio, todo elemento primo es irreducible.
\end{proofbox}

\begin{remark}
    Hemos probado $(1) \Leftrightarrow (2) \Leftrightarrow (3)$ y $(4) \Leftrightarrow (5) \Leftrightarrow (6)$, por tanto solo hace falta probar que alguno de los 3 primeros implica alguno de los 3 últimos y viceversa.
\end{remark}

\begin{theorem}{DIP implica DFU}{DIP_implica_DFU}
Todo dominio de ideales principales \(D\) es un dominio de factorizacion unica.
\end{theorem}

\begin{proofbox}
Por la Proposición \ref{prop:propiedades_DIP} sabemos que al ser $D$ un DIP los elementos irreducibles son primos. Por la Proposición \ref{prop:equivalencias_DFU} basta entonces con demostrar que \(D\) es un dominio de factorizacion.

Por reducción al absurdo supongamos que \(D\) no lo es. Vamos a construir, por recurrencia, una sucesion \(a_1, a_2, \ldots\) de elementos de \(D\) que no admiten factorizacion y tales que
\[
(a_1) \subset (a_2) \subset \cdots
\]
es una cadena estrictamente creciente de ideales de \(D\).

Para el primer paso simplemente elegimos un elemento arbitrario \(a_1\) de \(D\) que no admita factorizacion en irreducibles. Supongamos ahora que hemos elegido \(a_1, \ldots, a_n\) satisfaciendo las condiciones requeridas. Entonces \(a_n\) no es irreducible, luego existen \(x, y \in D \setminus D^*\) tales que \(a_n = xy\). Como \(a_n\) no es producto de irreducibles, al menos uno de los factores \(x\) o \(y\) (digamos que \(x\)) no es producto de irreducibles. Entonces, poniendo \(a_{n+1} = x\), tenemos \((a_n) \subset (a_{n+1})\) con la inclusion estricta porque \(y\) no es una unidad.

Una vez construida la sucesion \((a_i)\), tomamos \(I = (a_1, a_2, \ldots) = \cup_{i \in \mathbb{Z}^+}(a_i)\) (dejamos que el lector compruebe la igualdad anterior). Como \(D\) es un DIP, existe \(x \in D\) tal que \(I = (x)\); en particular \(x \in I = \cup_{i \in \mathbb{Z}^+}(a_i)\) y por tanto existe un indice \(i\) tal que \(x \in (a_i)\); como es claro que \(a_i \in (x)\), se tiene \((a_i) = (x) = I\) y por lo tanto \((a_i) = (a_{i+1})\), en contra de la construccion realizada. Este absurdo concluye la demostracion.
\end{proofbox}

El reciproco del Teorema \ref{thm:DIP_implica_DFU} es falso: \(\mathbb{Z}[X]\) es un DFU que no es un DIP. Que no es DIP se sigue del Ejemplo \ref{ex:ideal_no_principal}. La demostracion de que \(\mathbb{Z}[X]\) es DFU es bastante mas complicada y tambien es consecuencia de un resultado mas general. La veremos en el Capítulo 4.

\begin{example}{}{}
El anillo de los enteros $\mathbb{Z}$ es un DIP. Todo ideal de $\mathbb{Z}$ es de la forma $(n)$ para algún $n \in \mathbb{Z}$.
\end{example}

\begin{example}{}{}
Si $K$ es un cuerpo, entonces $K$ es un DIP trivialmente, pues sus únicos ideales son $(0)$ y $(1)$.
\end{example}

\begin{example}{}{}
Si $K$ es un cuerpo, entonces $K[[X]]$ es un DIP, pues sus ideales no nulos son de la forma $(X^n)$ para algún $n \in \N$.
\end{example}

\begin{proofbox}
Sea $K$ un cuerpo y sea $I \subseteq K[[X]]$.

En primer lugar, probaremos que las unidades de $K[[X]]$ son las series de potencias con primer término no nulo.

\begin{proofbox}
    Claramente para ser invertible, una serie de potencias $f = \sum_{n=0}^{\infty} a_n X^n$ debe cumplir $a_0 \neq 0$, puesto que la serie con $a_1 = 1, a_n = 0 \text{ si }n \neq 1$ no es invertible.

    Por otro lado, si una serie verifica $a_0 \neq 0$ entonces la serie
    \[
    \sum_{n = 0}^{\infty} b_n X^n
    \]
    construida haciendo $a_0b_0 = 1, \sum_{k=0}^{n} a_k b_{n-k} = 0$, es decir,
    \[
    b_0 = \frac{1}{a_0}, b_1 = \frac{a_1 b_0}{a_0}, \dots, b_n = \frac{\sum_{k=1}^{n} a_k b_{n-k}}{a_0}, \dots
    \]
    verifica que
    \[
    (\sum_{n=0}^{\infty} a_n X^n)(\sum_{n = 0}^{\infty} b_n X^n) = \sum_{n = 0}^{\infty} \left( \sum_{k=0}^{n} a_k b_{n-k} \right) X^n = 1.
    \]
    Luego $f$ es invertible.
\end{proofbox}

Pasamos a demostrar el ejemplo. Si $I = (0)$ es principal. De igual manera, si existe alguna serie en $I$ con $0 \neq a_0$ entonces la serie es invertible y por tanto $I = (X^0) = (1) = K[[X]]$, luego $I$ es principal.

Supongamos por tanto que todas las series de $I$ tienen $a_0 = 0$. Sean $m \in \N$ el menor número natural tal que existe una serie con $a_m = 0$ (este número ha de existir puesto que en caso contrario $I = (0)$). Entonces cualquier $f \in I$ es de la forma
\[
f = X^m (\sum_{n=0}^{\infty} a_n X^n)
\]
y finalmente $I = (X^m)$ como queríamos ver.
\end{proofbox}

En la sección \ref{dominios_euclideos} estudiaremos los dominios euclídeos y probraremos que todo dominio euclídeo es un DIP, por tanto, todos los ejemplos de la siguiente sección valen también para esta.

\clearpage
\section{Dominios euclídeos}\label{dominios_euclideos}

\begin{definition}{Función euclídea}{funcion_euclidea}
Una funcion euclidea en \(D\) es una aplicacion \(\delta: D \setminus \{0\} \to \mathbb{Z}^{\geq 0}\) que cumple las siguientes condiciones:

\begin{itemize}
\item[(DE1)] Si \(a, b \in D \setminus \{0\}\) verifican \(a \mid b\) entonces \(\delta(a) \leq \delta(b)\).

\item[(DE2)] Dados \(a, b \in D\) con \(b \neq 0\), existen \(q, r \in D\) tales que \(a = bq + r\) y o bien \(r = 0\) o bien \(\delta(r) < \delta(b)\).
\end{itemize}

Un dominio euclideo es un dominio que admite una funcion euclidea.
\end{definition}

\begin{example}{}{}
El valor absoluto es una funcion euclidea en \(\mathbb{Z}\). En efecto, si \(a, b \in \mathbb{Z}\) con \(b \neq 0\), existen \(q, r \in \mathbb{Z}\) tales que \(a = bq + r\) con \(0 \leq r < |b|\), luego se cumple (DE2). Ademas, si \(a \mid b\), \(a,b \neq 0\) entonces
\[
b = ax,\, x \neq 0 \implies |b| = |a||x|,\, |x| \geq 1 \implies |a| \leq |b|
\]
luego se cumple (DE1).
\end{example}

\begin{example}{}{grado_funcion_euclidea}
Si \(K\) es un cuerpo, entonces el grado define una función euclídea en \(K[X]\). En efecto, la condicion (DE1) se verifica claramente.

Para demostrar que se verifica la condicion (DE2) tomamos \(a, b \in K[X] \setminus \{0\}\) con \(b \neq 0\). Si \(a = 0\) tomando \(q = r = 0\) se tiene que \(a = bq + r\). Por tanto, suponemos que \(a \neq 0\) y denotamos por \(n\) al grado de \(a\) y por \(m\) al grado de \(b\). 

Razonamos por inducción en \(n\). Si \(n < m\) podemos tomar \(q = 0\) y \(r = a\)
\[
a = r = 0 + r = bq + r
\]
luego solo tenemos que estudiar los casos \(m \leq n\).

Si \(n = m = 0\) ambos polinomios son constantes, tomamos \(q = ab^{-1}\) y \(r = 0\) (recordemos que \(b\) es invertible al ser constante no nulo). Esto incluye el menor valor posible para \(n\), o sea \(n = 0\). 

Ahora, para el caso \(n\), por hipótesis de inducción se tiene que para todo polinomio \(c\) de grado menor que \(n\) existen \(q'\) y \(r'\) en \(K[X]\) con \(c = q'b + r'\) y o bien \(r' = 0\) o \(r'\) tiene grado menor que \(b\). Aplicamos esto a
\[
c = a - \alpha\beta^{-1}X^{n-m}b,
\]
donde \(\alpha\) es el termino principal de \(a\) y \(\beta\) es el termino principal de \(b\). Es facil ver que \(c\) tiene grado menor que \(a\) con lo que tenemos
\[
a - \alpha\beta^{-1}X^{n-m}b = c = q'b + r' \implies a = (q' + \alpha\beta^{-1}X^{n-m})b + r'.
\]
Tomando \(q = q' + \alpha\beta^{-1}X^{n-m}\) se tiene que \(a = qb + r\), como deseabamos.
\end{example}

\begin{example}{}{}
El cuadrado del modulo complejo define una funcion euclidea en el anillo \(\mathbb{Z}[i]\). En efecto, si \(x = a + bi\) con \(a\) y \(b\) numeros enteros entonces 
\[
\delta(x) = |x|^2 = a^2 + b^2 \in \mathbb{Z}^{\geq 0}.
\]
Además, \(\delta(x) = 0\) si y solo si \(x = 0\) y \(\delta(xy) = \delta(x)\delta(y)\) de donde facilmente se deduce que \(\delta\) verifica (DE1).

Sean ahora \(a = a_1 + a_2i\) y \(b = b_1 + b_2i \neq 0\) con \(a_1, a_2, b_1, b_2 \in \mathbb{Z}\). Sea
\[
x = x_1 + x_2i = \frac{a}{b}. %= (a_1 + a_2i)\left(\frac{b_1 - b_2i}{b_1^2 + b_2 ^2}\right) = \frac{(a_1 b_1 + a_2 b_2) + (a_2 b_1 - a_1 b_2)i}{b_1^2 + b_2 ^2}
\]
Elegimos dos numeros enteros \(q_1\) y \(q_2\) lo mas próximos posible a \(x_1\) y \(x_2\) respectivamente y ponemos \(q = q_1 + q_2i\). De la eleccion de los \(q_i\) tenemos que \(|x_i - q_i| \leq \frac{1}{2}\). Sea \(r = a - bq\), por tanto \(a = bq + r\) y si \(r \neq 0\)
\[
\delta(r) = |a - bq|^2 = |b|^2|x - q|^2 = \delta(b)((x_1 - q_1)^2 + (x_2 - q_2)^2) \leq \delta(b)\left(\frac{1}{4} + \frac{1}{4}\right) = \frac{\delta(b)}{2} < \delta(b).
\]
\end{example}

\begin{lemma}{}{DE_ideales_principales}
Sea \(\delta\) una funcion euclidea en \(D\), sea \(I\) un ideal de \(D\) y \(a\) un elemento de \(I\) diferente de \(0\). Entonces \(I = (a)\) si y solo si para todo \(x \in I\) se cumple \(\delta(a) \leq \delta(x)\) .
\end{lemma}

\begin{proofbox}
Supongamos que \(I = (a)\) y sea \(x \in I\). Entonces \(x = ab \implies a \mid x\), luego de (DE1) deducimos que \(\delta(a) \leq \delta(x)\).

Para demostrar el recíproco supongamos que para todo \(x \in I\), \(\delta(a) \leq \delta(x)\). Notemos que como \(a \in I\) se tiene que \((a) \subseteq I\). Para probar el otro contenido imitamos la demostracion de que \(\mathbb{Z}\) es DIP. Sea \(x \in I\), por (DE2) existen \(q, r \in D\) tales que \(x = aq + r\) y o bien \(r = 0\) o bien \(\delta(r) < \delta(a)\). Entonces
\[
r = x - aq \in I,
\]
por tanto, \(\delta(a) \leq \delta(r)\) por hipótesis. Finalmente ha de ser \(r = 0\), con lo que \(x \in (a)\). Esto demuestra que \(I = (a)\).
\end{proofbox}

Del Lema anterior se deduce de forma inmediata el siguiente resultado:

\begin{theorem}{}{DE_implica_DIP}
Todo dominio euclideo es DIP.
\end{theorem}

\begin{proofbox}
Sea \(D\) un dominio euclideo con funcion euclidea \(\delta\), y sea \(I\) un ideal de \(D\). Si \(I = 0\), entonces \(I = (0)\) es principal. Si \(I \neq 0\), sea
\[
\mathcal{A} = \{\delta(x) : x \in I \setminus \{0\}\} \subseteq \Z^{\geq 0}.
\]
Por el principio de buena ordenación $\mathcal{A}$ tiene un mínimo, luego existe \(a \in I \setminus \{0\}\) tal que \(\forall x \in I \quad \delta(a) \leq \delta(x)\). Por el Lema \ref{lem:DE_ideales_principales}, \(I = (a)\), luego \(I\) es principal.
\end{proofbox}

\begin{lemma}{}{}
Si \(\delta\) es una funcion euclidea en \(D\) entonces las siguientes condiciones son equivalentes para \(a \in D \setminus \{0\}\):

\begin{enumerate}
\item \(a\) es una unidad de \(D\).

\item \(\delta(a) = \delta(1)\).

\item \(\delta(a) \leq \delta(x)\), para todo \(x \in D \setminus \{0\}\).
\end{enumerate}

\end{lemma}

\begin{proofbox}
(1) \(\Rightarrow\) (2): Si \(a\) es unidad, entonces
\[
a a^{-1} = 1, a = 1a
\]
luego\(a \mid 1\) y \(1 \mid a\), luego por (DE1) tenemos \(\delta(a) = \delta(1)\).

(2) \(\Rightarrow\) (3): Sea \(x \in D \setminus \{0\}\). Como \(1 \mid x\), por (DE1) tenemos \(\delta(1) \leq \delta(x)\), luego \(\delta(a) = \delta(1) \leq \delta(x)\).

(3) \(\Rightarrow\) (1): Aplicando (DE2) a \(1\) y \(a\), existen \(q, r \in D\) tales que \(1 = aq + r\) con \(r = 0\) o \(\delta(r) < \delta(a)\). Pero, por (3), \(\delta(a) \leq \delta(r)\) si \(r \neq 0\), luego necesariamente \(r = 0\) y \(1 = aq\), por lo que \(a\) es unidad.
\end{proofbox}

\begin{example}{}{}
El anillo \(\mathbb{Z}[\sqrt{2}] = \{a + b\sqrt{2} : a, b \in \mathbb{Z}\}\) es un dominio euclideo con la funcion \(\delta(a + b\sqrt{2}) = |a^2 - 2b^2|\).
\end{example}

\begin{proofbox}
Si \(x = a + b \sqrt{2}\) con \(a,b \in \Z\), entonces
\[
\delta(x) = |a^2 - 2b^2| \in \mathbb{Z}^{\geq 0}.
\]
Además, \(\delta(x) = 0\) si y solo si
\[
a^2 = 2b^2 \iff a = b = 0
\]
ya que si $b \neq 0$ entonces $2$ sería un cuadrado perfecto en $\Q$. Por otro lado, si $x \mid y$ entonces
\[
y = xz,\quad z \in \Z[\sqrt{2}]
\]
Denotando $\bar{x} = a - b\sqrt{2}$ deducimos fácilmente que
\[
\delta(y) = y\bar{y} = x\bar{x}z\bar{z} = \delta(x)\delta(z) \implies \delta(x) \leq \delta(y)
\]
luego \(\delta\) verifica (DE1).

Sean ahora \(a = a_1 + a_2\sqrt{2}\) y \(b = b_1 + b_2\sqrt{2} \neq 0\) con \(a_1, a_2, b_1, b_2 \in \mathbb{Z}\). Sea
\[
x = x_1 + x_2\sqrt{2} = (a_1 + a_2\sqrt{2})\left(\frac{b_1 - b_2\sqrt{2}}{|b_1^2 - 2b_2 ^2|}\right).
\]
Notemos entonces que
\[
xb = (a_1 + a_2\sqrt{2})\left(\frac{b_1^2 - 2b_2^2}{|b_1^2 - 2b_2 ^2|}\right) = \pm a
\]
luego $a = by$, donde $y = \pm x$ según sea $xb = a$ o $xb = -a$.

Elegimos dos numeros enteros \(q_1\) y \(q_2\) lo mas próximos posible a \(y_1\) y \(y_2\) respectivamente y ponemos \(q = q_1 + q_2\sqrt{2} \in \Z[\sqrt{2}]\). De la eleccion de los \(q_i\) tenemos que \(|y_i - q_i| \leq \frac{1}{2}\). Sea \(r = a - bq\), por tanto \(a = bq + r\) y si $r \neq 0$
\[
\delta(r) = \delta(a - bq) = \delta(by - bq) = \delta(b)\delta(y - q)
\]
pero
\[
\delta(y - q) = |(y_1 - q_1)^2 - 2(y_2 - q_2)^2| \leq (y_1 - q_1)^2 + 2(y_2 - q_2)^2 \leq \frac{1}{4} + \frac{1}{2} < 1
\]
por tanto
\[
\delta(r) < \delta(b)
\]
lo que confirma que se verifica (DE2).
\end{proofbox}

\begin{example}{}{}
El anillo \(\mathbb{Z}[\sqrt{-2}] = \{a + b\sqrt{-2} : a, b \in \mathbb{Z}\}\) es un dominio euclideo con la funcion \(\delta(a + b\sqrt{-2}) = a^2 + 2b^2\). La demostración es casi igual a la del ejemplo anterior.
\end{example}

\begin{example}{}{}
No todo DIP es euclideo. El anillo \(\mathbb{Z}[\frac{1 + \sqrt{-19}}{2}]\) es un DIP pero no es euclideo. La demostracion de este hecho es bastante técnica.
\end{example}

\begin{remark}
La definicion de dominio euclideo no requiere que la funcion euclidea satisfaga \(\delta(ab) = \delta(a)\delta(b)\) o \(\delta(ab) \geq \delta(a)\). Estas propiedades se verifican en los ejemplos clasicos pero no son parte de la definicion.
\end{remark}

\begin{remark}
En algunos textos se exige que la funcion euclidea satisfaga \(\delta(a) \leq \delta(ab)\) para todo \(a, b \neq 0\). Esta condicion es mas restrictiva pero muchas funciones euclideas naturales la satisfacen.
\end{remark}

\clearpage
\section{El cuerpo de fracciones de un dominio}

\emph{A lo largo de toda la sección \(D\) es un dominio.}

Ya sabemos que todo subanillo de un cuerpo es un dominio. En esta sección vamos a ver que el recíproco es cierto, es decir, todo dominio \(D\) es un subanillo de un cuerpo. De hecho, existe un cuerpo que, en cierto sentido, es el menor cuerpo que contiene a \(D\). Dicho cuerpo es único salvo isomorfismos y se llama el cuerpo de fracciones de \(D\). Comenzaremos con la construcción de ese cuerpo, que es una traducción literal de la construcción de \(\mathbb{Q}\) a partir de \(\mathbb{Z}\), y analizaremos entonces sus propiedades. La idea de la construcción es la de formar un cuerpo \(Q(D)\) cuyos elementos sean <<fracciones>> del tipo \(a/b\) con \(a,b \in D\) y \(b \neq 0\). De este modo, \(D\) estara contenido en \(Q(D)\) (identificando cada elemento \(a\) de \(D\) con la fraccion \(a/1\)), y los elementos no nulos de \(Q(D)\) seran invertibles, pues si \(a,b \in D \setminus \{0\}\), entonces \(b/a\) sera el inverso de \(a/b\). Por supuesto, hay que definir con mas rigor las fracciones y hay que dotar a \(Q(D)\) de una estructura de cuerpo. El primer problema que se presenta, si pensamos en el caso \(D = \mathbb{Z}\) y \(Q(D) = \mathbb{Q}\), es el hecho de que dos fracciones aparentemente distintas pueden representar el mismo elemento, como en el caso \(10/15 = 2/3\). Esto se resuelve identificando ciertas fracciones mediante una relacion de equivalencia, y este sera el primer paso en nuestra construccion.

\begin{definition}{Cuerpo de fracciones}{}
El cuerpo de fracciones o cuerpo de cocientes del dominio \(D\) es el cuerpo \(Q(D)\) construido como el conjunto de clases de equivalencia de pares \((a, s)\) con \(a \in D\), \(s \in D \setminus \{0\}\) bajo la relación \((a_1, s_1) \sim (a_2, s_2) \Leftrightarrow a_1 s_2 = a_2 s_1\), con las operaciones:
\[
\frac{a_1}{s_1} + \frac{a_2}{s_2} = \frac{a_1 s_2 + a_2 s_1}{s_1 s_2}, \quad \frac{a_1}{s_1} \cdot \frac{a_2}{s_2} = \frac{a_1 a_2}{s_1 s_2}.
\]
\end{definition}

\begin{proposition}{}{}
Las operaciones definidas sobre \(Q(D)\) están bien definidas.
\end{proposition}

\begin{proofbox}
Supongamos que \(a_1/s_1 = b_1/t_1\) y \(a_2/s_2 = b_2/t_2\), por tanto
\begin{equation}\label{eq:1}\tag{\star}
a_1 t_1 = b_1 s_1,\quad a_2 t_2 = b_2 s_2
\end{equation}
veamos ahora ambas operaciones.
\begin{itemize}
\item Suma:
\[
\frac{a_1}{s_1} + \frac{a_2}{s_2} = \frac{a_1 s_2 + a_2 s_1}{s_1 s_2}
\]
\[
\frac{b_1}{t_1} + \frac{b_2}{t_2} = \frac{b_1 t_2 + b_2 t_1}{t_1 t_2} 
\]
entonces
\[
(a_1 s_2 + a_2 s_1, s_1 s_2) \sim (b_1 t_2 + b_2 t_1, t_1 t_2) \iff (a_1 s_2 + a_2 s_1)t_1 t_ 2 = (b_1 t_2 + b_2 t_1) s_1 s_2
\]
para comprobar la igualdad del lado derecho basta usar \eqref{eq:1}
\[
(a_1 s_2 + a_2 s_1)t_1 t_ 2 = a_1 t_1 s_2 t_2 + a_2 t_2 s_1 t_1 = b_1 s_1 s_2 t_2 + b_2 s_2 s_1 t_1 = (b_1 t_2 + b_2 t_1) s_1 s_2
\]
por tanto la suma está bien definida.

\item Producto:
\[
\frac{a_1}{s_1} \cdot \frac{a_2}{s_2} = \frac{a_1 a_2}{s_1 s_2}
\]
\[
\frac{b_1}{t_1} + \frac{b_2}{t_2} = \frac{b_1 b_2}{t_1 t_2} 
\]
entonces
\[
(a_1 a_2, s_1 s_2) \sim (b_1 b_2, t_1 t_2) \iff (a_1 a_2)t_1 t_ 2 = (b_1 b_2) s_1 s_2
\]
para comprobar la igualdad del lado derecho basta usar \eqref{eq:1}
\[
(a_1 a_2)t_1 t_ 2 = a_1 t_1 a_2 t_2 = b_1 s_1 b_2 s_2 = (b_1 b_2) s_1 s_2
\]
por tanto el producto está bien definido.
\end{itemize}

\end{proofbox}

\begin{proposition}{}{cuerpo_fracciones}
Si \(D\) es un dominio entonces \(Q(D)\) es un cuerpo con la suma y multiplicación definidas anteriormente. Dados \(a, b, s, t \in D\) con \(s, t \neq 0\), se tiene:

\begin{enumerate}
\item El cero de \(Q(D)\) es \(0/1\). Además, la igualdad \(a/s = 0/1\) se verifica si y solo si \(a = 0\).

\item El uno de \(Q(D)\) es \(1/1\). Además, la igualdad \(a/s = 1/1\) se verifica si y solo si \(a = s\).

\item \(at/st = a/s\).

\item La igualdad \(a/s = b/s\) se verifica si y solo si \(a = b\).

\item La definición de suma se simplifica cuando hay "denominador común": \(a/s + b/s = (a + b)/s\).
\end{enumerate}

\end{proposition}

\begin{proofbox}
Probaremos las propiedades para después usarlas al justificar que $Q(D)$ es un cuerpo. En primer lugar, notemos que si $a = b \implies as = bs \implies \frac{a}{s} = \frac{b}{s}$, animamos al lector a fijarse en los pasos que usan este hecho.
\begin{enumerate}
\item Claramente
\[
\frac{a}{s} + \frac{0}{1} = \frac{a}{s}
\]
y
\[
\frac{a}{s} = \frac{0}{1} \iff a1 = s0 = 0 \iff a = 0.
\]

\item
\[
\frac{a}{s} \cdot \frac{1}{1} = \frac{a}{s}
\]
y
\[
\frac{a}{s} = \frac{1}{1} \iff a1 = s1 \iff a = s.
\]

\item 
\[
(at)s = a(st) \iff (at, st) \sim (a, s) \iff \frac{at}{st} = \frac{a}{s}.
\]

\item Como $s \neq 0$ es cancelable (recordemos que $D$ es un dominio)
\[
\frac{a}{s} = \frac{b}{s} \iff as = bs \iff a = b
\]

\item Usando (3):
\[
\frac{a}{s} + \frac{b}{s} = \frac{as + bs}{ss} = \frac{(a+b)s}{ss} = \frac{a + b}{s}.
\]
\end{enumerate}

Veamos ahora que \(Q(D)\) es un anillo conmutativo con uno.
\begin{itemize}
    \item \((Q(D), +)\) es un grupo. Tiene elemento neutro por (1). En cuanto a los simétricos, dado \(\frac{a}{s}\) se tiene
    \[
    \frac{a}{s} + \frac{-a}{s} = \frac{as - as}{ss} = \frac{0}{ss} = \frac{0}{1}
    \]
    usando (1). Es fácil ver que además el grupo es abeliano por cómo está definida la suma
    \[
    \frac{a}{s} + \frac{b}{t} = \frac{as + bt}{st} = \frac{bt + as}{ts} = \frac{b}{t} + \frac{a}{s}.
    \]

    \item \((Q(D), \cdot)\) es un monoide. El producto tiene neutro por (2), y es asociativo ya que
    \[
    (\frac{a}{s} \frac{b}{t}) \frac{c}{v} = \frac{ab}{st} \frac{c}{v} = \frac{abc}{stv} = \frac{a}{s} \frac{bc}{tv} = \frac{a}{s}(\frac{b}{t} \frac{c}{v}).
    \]
    Que es conmutativo es inmediato por serlo \(D\)
    \[
    \frac{a}{s} \frac{b}{t} = \frac{ab}{st} = \frac{ba}{ts} = \frac{b}{t} \frac{a}{s}.
    \]

    \item En cuanto a la propiedad distributiva:
    \[
    \frac{a}{s}\left(\frac{b_1}{t_1} + \frac{b_2}{t_2}\right) = \frac{a}{s}\left(\frac{b_1 t_2 + b_2 t_1}{t_1 t_2}\right) = \frac{ab_1 t_2 + ab_2 t_1}{st_1 t_2} = \frac{ab_1}{st_1} + \frac{ab_2}{st_2} = \frac{a}{s}\frac{b_1}{t_1} + \frac{a}{s}\frac{b_2}{t_2}.
    \]
\end{itemize}
Para ver que es cuerpo solo necesitamos ver que $\frac{a}{s} \neq \frac{0}{1}$ tiene inverso, pero es obvio que como no es el cero entonces $a \neq 0$, luego
\[
\frac{s}{a} \in Q(D),\quad \frac{a}{s}\frac{s}{a} = \frac{as}{sa} = \frac{1}{1}
\]
usando (2).
\end{proofbox}

\begin{example}{}{}
Obviamente, \(\mathbb{Q}\) es el cuerpo de fracciones de \(\mathbb{Z}\).
\end{example}

\begin{example}{}{}
Supongamos que un anillo de polinomios \(A[X]\) es un dominio (lo que ocurre si y solo si \(A\) es un dominio). Su cuerpo de fracciones se suele denotar por \(A(X)\) y se llama el cuerpo de fracciones racionales sobre \(A[X]\). Sus elementos son fracciones del tipo \(P/Q\) con \(P, Q \in A[X]\) y \(Q \neq 0\), que se suman y se multiplican de forma natural.
\end{example}

Usando la Proposición \ref{prop:cuerpo_fracciones}, es sencillo ver que la aplicación \(u: D \to Q(D)\) dada por \(u(a) = a/1\) es un homomorfismo inyectivo de anillos
\[
u(a + b) = \frac{a + b}{1} = \frac{a}{1} + \frac{b}{1} = u(a) + u(b)
\]
\[
u(ab) = \frac{ab}{1} = \frac{a}{1} \frac{b}{1} = u(ab)
\]
\[
u(1) = \frac{1}{1}
\]
\[
u(a) = \frac{a}{1} = \frac{0}{1} \iff a = 0,~\text{ luego }~ \ker u = 0
\]
lo que nos permite ver a \(D\) como un subanillo de \(Q(D)\) si identificamos cada elemento \(a\) de \(D\) con la fracción \(a/1\) de \(Q(D)\). El par \((Q(D), u)\) verifica una interesante propiedad:

\begin{proposition}{Propiedad Universal del Cuerpo de Fracciones}{}
Sean \(D\) un dominio, \(Q(D)\) su cuerpo de fracciones y \(u: D \to Q(D)\) la aplicación dada por \(u(a) = a/1\). Entonces:

\begin{enumerate}
\item Para toda pareja \((K, f)\) formada por un cuerpo \(K\) y un homomorfismo inyectivo de anillos \(f: D \to K\), existe un único homomorfismo de cuerpos \(\bar{f}: Q(D) \to K\) tal que \(\bar{f} \circ u = f\). Se dice que \(\bar{f}\) completa de modo único el diagrama
\[
\begin{tikzcd}
D \arrow[r, "f"] \arrow[d, "u"'] & K \\
Q(D) \arrow[ru, "\bar{f}"'] &
\end{tikzcd}
\]

\item Si dos homomorfismos de cuerpos \(g, h: Q(D) \to K\) coinciden sobre \(D\) entonces son iguales.

\item Supongamos que existen un cuerpo $F$ y un homomorfismo inyectivo de anillos $v : D \to F$ tales que, para todo cuerpo $K$ y todo homomorfismo inyectivo de anillos $f : D \to K$, existe un único homomorfismo de cuerpos $\bar{f} : F \to K$ tal que $\bar{f} \circ v = f$. Entonces existe un isomorfismo $\phi : F \to Q(D)$ tal que $\phi \circ v = u$. Es decir, \(Q(D)\) está determinado salvo isomorfismos por la Propiedad Universal.
\end{enumerate}

\end{proposition}

\begin{proofbox}
\begin{enumerate}
\item Sea \(f: D \to K\) como en el enunciado. Si \(\bar{f}: Q(D) \to K\) es un homomorfismo de cuerpos tal que \(\bar{f} \circ u = f\) entonces, para todo \(a/s \in Q(D)\), se verifica
\[
\bar{f}(a/s) = \bar{f}(u(a)u(s)^{-1}) = (\bar{f} \circ u)(a)(\bar{f} \circ u)(s)^{-1} = f(a)f(s)^{-1}.
\]
Esto prueba que el único homomorfismo de cuerpos \(\bar{f}: Q(D) \to K\) que puede satisfacer \(\bar{f} \circ u = f\) tiene que venir dado por
\[
\bar{f}(a/s) = f(a)f(s)^{-1}.
\]
Solo falta comprobar que la aplicación \(\bar{f}\) así dada está bien definida y es un homomorfismo. Si \(a_1/s_1 = a_2/s_2\) entonces \(a_1 s_2 = a_2 s_1\), luego \(f(a_1)f(s_2) = f(a_2)f(s_1)\) y, por tanto, \(f(a_1)f(s_1)^{-1} = f(a_2)f(s_2)^{-1}\). Esto prueba que \(\bar{f}\) está bien definido. La verificación de que es homomorfismo es directa.

\item Si ponemos \(f = g \circ u = h \circ u: D \to K\), los homomorfismos \(g\) y \(h\) completan el diagrama del apartado (1). Por la unicidad se tiene \(g = h\).

\item Sea \(v: D \to F\) como en el enunciado. Aplicando (1) encontramos un homomorfismo \(\bar{v}: Q(D) \to F\) tal que \(\bar{v} \circ u = v\), y aplicando la hipótesis de (3) encontramos un homomorfismo \(\bar{u}: F \to Q(D)\) tal que \(\bar{u} \circ v = u\). Entonces la composición \(\bar{u} \circ \bar{v}: Q(D) \to Q(D)\) verifica \((\bar{u} \circ \bar{v}) \circ u = \bar{u} \circ v = u\), y por (2) se obtiene \(\bar{u} \circ \bar{v} = 1_{Q(D)}\). En particular \(\bar{u}\) es supravectiva, y como es inyectiva por ser un homomorfismo de cuerpos, \(\phi = \bar{u}\) es el isomorfismo que buscamos.
\end{enumerate}

\end{proofbox}

La Propiedad Universal permite afirmar que \(Q(D)\) es <<el menor cuerpo que contiene a \(D\)>> en un sentido que se hace explícito en el siguiente resultado:

\begin{proposition}{}{subcuerpos_fracciones}
Sea \(D\) un dominio. Si \(K\) es un cuerpo y \(f: D \to K\) es un homomorfismo inyectivo de anillos, entonces \(K\) contiene un subcuerpo isomorfo a \(Q(D)\).
\end{proposition}

\begin{proofbox}
Por la Propiedad Universal del Cuerpo de Fracciones existe un homomorfismo de cuerpos \(\bar{f}: Q(D) \to K\), y como \(\bar{f}\) es inyectiva, \(\Im \bar{f}\) es un subcuerpo de \(K\) isomorfo a \(Q(D)\).
\end{proofbox}

\begin{example}{El cuerpo de fracciones de \(\mathbb{Z}[\sqrt{m}]\)}{}
Sea \(m\) un número entero que no es un cuadrado, y sea \(f: \mathbb{Z}[\sqrt{m}] \to \mathbb{C}\) la inclusión. Si \(\bar{f}\) es como en la demostración de la Proposición \ref{prop:subcuerpos_fracciones}, entonces \(\Im \bar{f}\) es isomorfo al cuerpo de fracciones de \(\mathbb{Z}[\sqrt{m}]\).

Un elemento genérico de Im \(\bar{f}\) es de la forma
\[
x = \frac{a + b\sqrt{m}}{c + d\sqrt{m}},
\]
con \(a, b, c, d \in \mathbb{Z}\) y \(c + d\sqrt{m} \neq 0\). 

Notemos que \(c - d\sqrt{m} \neq 0\) \emph{(pregunta para el lector: ?`por qué?)}, luego
\[
x = \frac{a + b\sqrt{m}}{c + d\sqrt{m}} = \frac{a + b\sqrt{m}}{c + d\sqrt{m}} \cdot \frac{c - d\sqrt{m}}{c - d\sqrt{m}} = \frac{(ac-bdm) + (bc - ad)\sqrt{m}}{c^2 - d^2m} = \frac{r}{t} + \frac{s}{t}\sqrt{m}
\]
donde \(r, s, t \in \mathbb{Z}\), y por tanto \(x \in \mathbb{Q}[\sqrt{m}]\). Esto demuestra que Im \(\bar{f} \subseteq \mathbb{Q}[\sqrt{m}]\), y el otro contenido es claro, pues un elemento genérico \(\frac{a}{s} + \frac{b}{t}\sqrt{m}\) de \(\mathbb{Q}[\sqrt{m}]\) se reescribe como \(\frac{at + bs\sqrt{m}}{st}\).

En conclusión, el cuerpo de fracciones de \(\mathbb{Z}[\sqrt{m}]\) es isomorfo a \(\mathbb{Q}[\sqrt{m}]\). De hecho abusaremos de la notación y diremos que el cuerpo de fracción de \(\mathbb{Z}[\sqrt{m}]\) es \(\mathbb{Q}[\sqrt{m}]\).
\end{example}

Un interesante corolario de la Proposición \ref{prop:subcuerpos_fracciones} es el siguiente:

\begin{corollary}{}{}
Todo cuerpo \(K\) posee un subcuerpo \(K'\), llamado el subcuerpo primo de \(K\), que está contenido en cualquier otro subcuerpo de \(K\) (es decir, \(K'\) es <<el menor subcuerpo de \(K\)>>). Si la característica de \(K\) es un entero primo \(p\), entonces \(K'\) es isomorfo a \(\mathbb{Z}_p\); en caso contrario \(K'\) es isomorfo a \(\mathbb{Q}\).
\end{corollary}

\begin{proofbox}
Si la característica es un primo \(p\) entonces el subanillo primo \(\Z1\) de \(K\) (isomorfo a \(\mathbb{Z}_p\)) es ya un cuerpo, y contiene a cualquier subcuerpo (de hecho, a cualquier subanillo) de \(K\).

En otro caso, al ser \(K\) un cuerpo, la característica es cero; es decir, el homomorfismo de anillos \(f: \mathbb{Z} \to K\) es inyectivo. El cuerpo de fracciones de \(\mathbb{Z}\) es \(\mathbb{Q}\), y el homomorfismo de cuerpos \(\bar{f}: \mathbb{Q} \to K\) que nos da la Propiedad Universal viene dada por \(\bar{f}(n/m) = f(n)f(m)^{-1}\).

Como \(\bar{f}\) es inyectivo, \(K' = \text{Im } \bar{f}\) es un subcuerpo de \(K\) isomorfo a \(\mathbb{Q}\), y ahora basta ver que \(K'\) está contenido en cualquier subcuerpo \(F\) de \(K\). Dado un tal \(F\), se tiene \(f(m) \in F\) para cada \(m \in \mathbb{Z}\), y si \(m \neq 0\) entonces \(f(m) \neq 0\) y \(f(m)^{-1} \in F\). Por tanto, para cada \(n/m \in \mathbb{Q}\) se tiene \(\bar{f}(n/m) = f(n)f(m)^{-1} \in F\), lo que demuestra que \(K' \subseteq F\).
\end{proofbox}

\begin{remark}
La construcción del cuerpo de fracciones es análoga a la construcción de los números racionales a partir de los enteros. De hecho, \(\mathbb{Q}\) es el caso particular cuando \(D = \mathbb{Z}\).
\end{remark}

\begin{remark}
Si \(D\) es ya un cuerpo, entonces \(Q(D)\) es isomorfo a \(D\), pues la aplicación \(a \mapsto a/1\) es un isomorfismo.
\end{remark}